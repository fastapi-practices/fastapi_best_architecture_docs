import{_ as A,c as v,a as i,e as l,b as e,w as t,d as b,r as k,o as F}from"./app-BLJpD-6k.js";const y="/fastapi_best_architecture_docs/images/use_this_template.png",m={},f={class:"vp-steps"},c={class:"vp-steps"};function C(x,s){const d=k("VPLink"),p=k("Badge"),o=k("Tabs"),g=k("Icon"),u=k("CodeTabs");return F(),v("div",null,[s[54]||(s[54]=i("div",{class:"hint-container caution"},[i("p",{class:"hint-container-title"},"警告"),i("p",null,"fba 仅适用于资深 Python 后端开发人员，如果您是小白用户，我们建议您打好基础再来学习")],-1)),s[55]||(s[55]=i("h2",{id:"本地开发",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#本地开发"},[i("span",null,"本地开发")])],-1)),i("div",f,[i("ol",null,[i("li",null,[s[6]||(s[6]=i("p",null,"准备本地环境",-1)),i("ul",null,[s[3]||(s[3]=i("li",null,"Python 3.10+",-1)),s[4]||(s[4]=i("li",null,[i("a",{href:"https://docs.astral.sh/uv/getting-started/installation/",target:"_blank",rel:"noopener noreferrer"},"安装 uv"),l("（推荐最新稳定版）")],-1)),i("li",null,[s[2]||(s[2]=l("PostgreSQL 16.0 + 或 MySQL 8.0+ ",-1)),e(d,{href:"../reference/pk.md",class:"read-more"},{default:t(()=>[...s[0]||(s[0]=[l("使用",-1),i("strong",null,"雪花主键 ID",-1)])]),_:1}),e(d,{href:"../reference/db.md",class:"read-more"},{default:t(()=>[...s[1]||(s[1]=[l("使用 ",-1),i("strong",null,"MySQL",-1)])]),_:1})]),s[5]||(s[5]=i("li",null,[i("p",null,"Redis（推荐最新稳定版）")],-1))])]),i("li",null,[i("p",null,[s[7]||(s[7]=l("准备源码 ",-1)),e(p,{type:"warning",text:"二选一"})]),e(o,{id:"39",data:[{id:"拉取源代码"},{id:"创建模板仓库"}]},{title0:t(({value:a,isActive:n})=>[...s[8]||(s[8]=[l("拉取源代码",-1)])]),title1:t(({value:a,isActive:n})=>[...s[9]||(s[9]=[l("创建模板仓库",-1)])]),tab0:t(({value:a,isActive:n})=>[...s[10]||(s[10]=[i("div",{class:"language-shell","data-highlighter":"shiki","data-ext":"shell",style:{"--shiki-dark":"#abb2bf","--shiki-light":"#383A42","--shiki-dark-bg":"#282c34","--shiki-light-bg":"#FAFAFA"}},[i("pre",{class:"shiki shiki-themes one-dark-pro one-light vp-code"},[i("code",{class:"language-shell"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#61AFEF","--shiki-light":"#4078F2"}},"git"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," clone"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," https://github.com/fastapi-practices/fastapi_best_architecture.git")])])])],-1)])]),tab1:t(({value:a,isActive:n})=>[...s[11]||(s[11]=[i("p",null,[l("此项目支持创建模板仓库，意味着，你可以直接创建一个非 fork 的个人仓库，如图所示，进入此项目 GitHub 首页，使用 "),i("code",null,"use this template"),l(" 按钮创建")],-1),i("p",null,[l("创建完成之后，使用 "),i("code",null,"git clone"),l(" 命令拉取你自己的仓库即可")],-1),i("p",null,[i("img",{src:y,alt:"use_this_template"})],-1)])]),_:1})]),s[38]||(s[38]=i("li",null,[i("p",null,"启动 PostgreSQL/MySQL、Redis")],-1)),i("li",null,[s[28]||(s[28]=i("p",null,"初始化",-1)),e(o,{id:"65",data:[{id:"自动"},{id:"手动"}]},{title0:t(({value:a,isActive:n})=>[...s[12]||(s[12]=[l("自动",-1)])]),title1:t(({value:a,isActive:n})=>[...s[13]||(s[13]=[l("手动",-1)])]),tab0:t(({value:a,isActive:n})=>[...s[14]||(s[14]=[i("p",null,[l("在 "),i("code",null,"根目录"),l(" 打开终端，执行以下命令")],-1),i("div",{class:"language-shell","data-highlighter":"shiki","data-ext":"shell",style:{"--shiki-dark":"#abb2bf","--shiki-light":"#383A42","--shiki-dark-bg":"#282c34","--shiki-light-bg":"#FAFAFA"}},[i("pre",{class:"shiki shiki-themes one-dark-pro one-light vp-code"},[i("code",{class:"language-shell"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#61AFEF","--shiki-light":"#4078F2"}},"uv"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," run"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," fba"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," init"),i("span",{style:{"--shiki-dark":"#D19A66","--shiki-light":"#986801"}}," --auto")])])])],-1)])]),tab1:t(({value:a,isActive:n})=>[i("ol",null,[s[25]||(s[25]=i("li",null,[i("p",null,[l("创建数据库："),i("code",null,"fba")]),i("ul",null,[i("li",null,"PostgreSQL 用户直接创建"),i("li",null,"MySQL 用户创建时需选择 utf8mb4 编码")])],-1)),s[26]||(s[26]=i("li",null,[i("p",null,"env"),i("p",null,[l("在 "),i("code",null,"backend"),l(" 目录打开终端，执行以下命令创建环境变量文件")]),i("div",{class:"language-shell","data-highlighter":"shiki","data-ext":"shell",style:{"--shiki-dark":"#abb2bf","--shiki-light":"#383A42","--shiki-dark-bg":"#282c34","--shiki-light-bg":"#FAFAFA"}},[i("pre",{class:"shiki shiki-themes one-dark-pro one-light vp-code"},[i("code",{class:"language-shell"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#61AFEF","--shiki-light":"#4078F2"}},"cp"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," .env.example"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," .env")])])])])],-1)),s[27]||(s[27]=i("li",null,[i("p",null,[l("按需修改配置文件："),i("code",null,"backend/core/conf.py"),l(" 和 "),i("code",null,".env")])],-1)),i("li",null,[s[19]||(s[19]=i("p",null,"安装依赖",-1)),e(u,{id:"109",data:[{id:'<Icon name="material-icon-theme:uv" />uv - sync'},{id:'<Icon name="material-icon-theme:uv" />uv - pip'}]},{title0:t(({value:h,isActive:r})=>[i("span",null,[e(g,{name:"material-icon-theme:uv"}),s[15]||(s[15]=l("uv - sync",-1))])]),title1:t(({value:h,isActive:r})=>[i("span",null,[e(g,{name:"material-icon-theme:uv"}),s[16]||(s[16]=l("uv - pip",-1))])]),tab0:t(({value:h,isActive:r})=>[...s[17]||(s[17]=[i("div",{class:"language-shell","data-highlighter":"shiki","data-ext":"shell",style:{"--shiki-dark":"#abb2bf","--shiki-light":"#383A42","--shiki-dark-bg":"#282c34","--shiki-light-bg":"#FAFAFA"}},[i("pre",{class:"shiki shiki-themes one-dark-pro one-light vp-code"},[i("code",{class:"language-shell"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#61AFEF","--shiki-light":"#4078F2"}},"uv"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," sync")])])])],-1)])]),tab1:t(({value:h,isActive:r})=>[...s[18]||(s[18]=[i("div",{class:"language-shell","data-highlighter":"shiki","data-ext":"shell",style:{"--shiki-dark":"#abb2bf","--shiki-light":"#383A42","--shiki-dark-bg":"#282c34","--shiki-light-bg":"#FAFAFA"}},[i("pre",{class:"shiki shiki-themes one-dark-pro one-light vp-code"},[i("code",{class:"language-shell"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#61AFEF","--shiki-light":"#4078F2"}},"uv"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," pip"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," install"),i("span",{style:{"--shiki-dark":"#D19A66","--shiki-light":"#986801"}}," -r"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," requirements.txt")])])])],-1)])]),_:2},1024)]),i("li",null,[i("p",null,[s[20]||(s[20]=l("创建数据库表和测试数据 ",-1)),e(p,{type:"warning",text:"二选一"})]),e(o,{id:"122",data:[{id:"CLI"},{id:"Alembic + 手动"}]},{title0:t(({value:h,isActive:r})=>[...s[21]||(s[21]=[l("CLI",-1)])]),title1:t(({value:h,isActive:r})=>[...s[22]||(s[22]=[l("Alembic + 手动",-1)])]),tab0:t(({value:h,isActive:r})=>[...s[23]||(s[23]=[i("p",null,[l("在 "),i("code",null,"根目录"),l(" 打开终端（确保已激活虚拟环境），执行以下命令")],-1),i("div",{class:"language-shell","data-highlighter":"shiki","data-ext":"shell",style:{"--shiki-dark":"#abb2bf","--shiki-light":"#383A42","--shiki-dark-bg":"#282c34","--shiki-light-bg":"#FAFAFA"}},[i("pre",{class:"shiki shiki-themes one-dark-pro one-light vp-code"},[i("code",{class:"language-shell"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#61AFEF","--shiki-light":"#4078F2"}},"fba"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," init")])])])],-1)])]),tab1:t(({value:h,isActive:r})=>[...s[24]||(s[24]=[i("ol",null,[i("li",null,[i("p",null,[l("在 "),i("code",null,"根目录"),l(" 打开终端（确保已激活虚拟环境），执行以下命令")]),i("p",null,"生成迁移文件"),i("div",{class:"language-shell","data-highlighter":"shiki","data-ext":"shell",style:{"--shiki-dark":"#abb2bf","--shiki-light":"#383A42","--shiki-dark-bg":"#282c34","--shiki-light-bg":"#FAFAFA"}},[i("pre",{class:"shiki shiki-themes one-dark-pro one-light vp-code"},[i("code",{class:"language-shell"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#61AFEF","--shiki-light":"#4078F2"}},"fba"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," alembic"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," revision")])])])]),i("p",null,"执行迁移"),i("div",{class:"language-shell","data-highlighter":"shiki","data-ext":"shell",style:{"--shiki-dark":"#abb2bf","--shiki-light":"#383A42","--shiki-dark-bg":"#282c34","--shiki-light-bg":"#FAFAFA"}},[i("pre",{class:"shiki shiki-themes one-dark-pro one-light vp-code"},[i("code",{class:"language-shell"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#61AFEF","--shiki-light":"#4078F2"}},"fba"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," alembic"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," upgrade")])])])])]),i("li",null,[i("p",null,"初始化测试数据"),i("p",null,[l("架构：执行 "),i("code",null,"backend/sql/"),l(" 目录下对应主键模式的脚本")]),i("p",null,[l("插件：执行 "),i("code",null,"backend/plugin/sql/"),l(" 目录下对应主键模式的脚本")]),i("div",{class:"language-shell","data-highlighter":"shiki","data-ext":"shell",style:{"--shiki-dark":"#abb2bf","--shiki-light":"#383A42","--shiki-dark-bg":"#282c34","--shiki-light-bg":"#FAFAFA"}},[i("pre",{class:"shiki shiki-themes one-dark-pro one-light vp-code"},[i("code",{class:"language-shell"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#61AFEF","--shiki-light":"#4078F2"}},"fba"),i("span",{style:{"--shiki-dark":"#D19A66","--shiki-light":"#986801"}}," --sql"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," 脚本文件路径")])])])])])],-1)])]),_:2},1024)])])]),_:1})]),s[39]||(s[39]=b('<li><p>启动</p><p>在 <code>根目录</code> 打开终端（确保已激活虚拟环境），执行以下命令</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-dark:#abb2bf;--shiki-light:#383A42;--shiki-dark-bg:#282c34;--shiki-light-bg:#FAFAFA;"><pre class="shiki shiki-themes one-dark-pro one-light vp-code"><code class="language-shell"><span class="line"><span style="--shiki-dark:#61AFEF;--shiki-light:#4078F2;">fba</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;"> run</span></span></code></pre></div></li>',1)),i("li",null,[i("p",null,[s[29]||(s[29]=l("启动 celery worker, beat 和 flower ",-1)),e(p,{type:"warning",text:"此步骤为可选，可直接跳过"})]),s[36]||(s[36]=i("p",null,[l("在 "),i("code",null,"根目录"),l(" 打开终端（确保已激活虚拟环境），执行以下命令启动 celery 相关服务")],-1)),e(u,{id:"180",data:[{id:"Worker"},{id:"Beat"},{id:"Flower"}]},{title0:t(({value:a,isActive:n})=>[...s[30]||(s[30]=[i("span",null,"Worker",-1)])]),title1:t(({value:a,isActive:n})=>[...s[31]||(s[31]=[i("span",null,"Beat",-1)])]),title2:t(({value:a,isActive:n})=>[...s[32]||(s[32]=[i("span",null,"Flower",-1)])]),tab0:t(({value:a,isActive:n})=>[...s[33]||(s[33]=[i("div",{class:"language-shell","data-highlighter":"shiki","data-ext":"shell",style:{"--shiki-dark":"#abb2bf","--shiki-light":"#383A42","--shiki-dark-bg":"#282c34","--shiki-light-bg":"#FAFAFA"}},[i("pre",{class:"shiki shiki-themes one-dark-pro one-light vp-code"},[i("code",{class:"language-shell"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#61AFEF","--shiki-light":"#4078F2"}},"fba"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," celery"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," worker")])])])],-1)])]),tab1:t(({value:a,isActive:n})=>[...s[34]||(s[34]=[i("div",{class:"language-shell","data-highlighter":"shiki","data-ext":"shell",style:{"--shiki-dark":"#abb2bf","--shiki-light":"#383A42","--shiki-dark-bg":"#282c34","--shiki-light-bg":"#FAFAFA"}},[i("pre",{class:"shiki shiki-themes one-dark-pro one-light vp-code"},[i("code",{class:"language-shell"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#61AFEF","--shiki-light":"#4078F2"}},"fba"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," celery"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," beat")])])])],-1)])]),tab2:t(({value:a,isActive:n})=>[...s[35]||(s[35]=[i("div",{class:"language-shell","data-highlighter":"shiki","data-ext":"shell",style:{"--shiki-dark":"#abb2bf","--shiki-light":"#383A42","--shiki-dark-bg":"#282c34","--shiki-light-bg":"#FAFAFA"}},[i("pre",{class:"shiki shiki-themes one-dark-pro one-light vp-code"},[i("code",{class:"language-shell"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#61AFEF","--shiki-light":"#4078F2"}},"fba"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," celery"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," flower")])])])],-1)])]),_:1}),s[37]||(s[37]=i("div",{class:"hint-container warning"},[i("p",{class:"hint-container-title"},"注意"),i("p",null,"如果从未执行过以上命令，任务结果表将缺失，此时，无论从何处调用任务结果相关接口都会直接报错，直到至少启动一次 worker 和 beat 服务，相关接口将自动恢复正常")],-1))]),s[40]||(s[40]=i("li",null,[i("p",null,[l("打开浏览器访问："),i("a",{href:"http://127.0.0.1:8000/docs",target:"_blank",rel:"noopener noreferrer"},"http://127.0.0.1:8000/docs")])],-1))])]),s[56]||(s[56]=i("h2",{id:"开发流程",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#开发流程"},[i("span",null,"开发流程")])],-1)),s[57]||(s[57]=i("div",{class:"hint-container note"},[i("p",{class:"hint-container-title"},"注"),i("p",null,"仅供参考，实际以个人开发习惯为准")],-1)),i("div",c,[i("ol",null,[i("li",null,[i("p",null,[s[42]||(s[42]=l("定义数据库模型（",-1)),e(d,{href:"../reference/model.md"},{default:t(()=>[...s[41]||(s[41]=[l("model",-1)])]),_:1}),s[43]||(s[43]=l("）",-1))])]),i("li",null,[i("p",null,[s[45]||(s[45]=l("定义数据验证模型（",-1)),e(d,{href:"../reference/schema.md"},{default:t(()=>[...s[44]||(s[44]=[l("schema",-1)])]),_:1}),s[46]||(s[46]=l("）",-1))])]),i("li",null,[i("p",null,[s[48]||(s[48]=l("定义路由（",-1)),e(d,{href:"../reference/router.md"},{default:t(()=>[...s[47]||(s[47]=[l("router",-1)])]),_:1}),s[49]||(s[49]=l("）",-1))])]),s[53]||(s[53]=i("li",null,[i("p",null,"编写业务（service）")],-1)),i("li",null,[i("p",null,[s[51]||(s[51]=l("编写数据库操作（",-1)),e(d,{href:"../reference/CRUD.md"},{default:t(()=>[...s[50]||(s[50]=[l("crud",-1)])]),_:1}),s[52]||(s[52]=l("）",-1))])])])]),s[58]||(s[58]=b('<h2 id="单元测试" tabindex="-1"><a class="header-anchor" href="#单元测试"><span>单元测试</span></a></h2><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>通过 <code>pytest</code> 运行单元测试，项目内仅提供了非常简易的 demo，并不是完整单元测试，如需要，请自行编写</p></div><div class="vp-steps"><ol><li><p>创建测试数据库 <code>fba_test</code>，选择 utf8mb4 编码，PostgreSQL 用户可忽略编码</p></li><li><p>创建数据库表，利用工具创建 <code>fba</code> 库所有表的 DDL 脚本，再通过 <code>fba_test</code> 库执行</p></li><li><p>初始化测试数据，通过 <code>backend/sql/</code> 目录下对应主键模式的脚本初始化测试数据</p></li><li><p>在项目根目录打开终端，执行以下单元测试命令</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-dark:#abb2bf;--shiki-light:#383A42;--shiki-dark-bg:#282c34;--shiki-light-bg:#FAFAFA;"><pre class="shiki shiki-themes one-dark-pro one-light vp-code"><code class="language-shell"><span class="line"><span style="--shiki-dark:#61AFEF;--shiki-light:#4078F2;">pytest</span><span style="--shiki-dark:#D19A66;--shiki-light:#986801;"> -vs</span><span style="--shiki-dark:#D19A66;--shiki-light:#986801;"> --disable-warnings</span></span></code></pre></div></li></ol></div>',3))])}const S=A(m,[["render",C]]),P=JSON.parse('{"path":"/backend/summary/quick-start.html","title":"快速开始","lang":"zh-CN","frontmatter":{"title":"快速开始","description":"警告 fba 仅适用于资深 Python 后端开发人员，如果您是小白用户，我们建议您打好基础再来学习 本地开发 准备本地环境 Python 3.10+ 安装 uv（推荐最新稳定版） PostgreSQL 16.0 + 或 MySQL 8.0+ Redis（推荐最新稳定版） 准备源码 启动 PostgreSQL/MySQL、Redis 初始化 启动 在 ...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"快速开始\\",\\"image\\":[\\"https://fastapi-practices.github.io/fastapi_best_architecture_docs/fastapi_best_architecture_docs/images/use_this_template.png\\"],\\"dateModified\\":null,\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://fastapi-practices.github.io/fastapi_best_architecture_docs/fastapi_best_architecture_docs/backend/summary/quick-start.html"}],["meta",{"property":"og:site_name","content":"FastAPI Best Architecture"}],["meta",{"property":"og:title","content":"快速开始"}],["meta",{"property":"og:description","content":"警告 fba 仅适用于资深 Python 后端开发人员，如果您是小白用户，我们建议您打好基础再来学习 本地开发 准备本地环境 Python 3.10+ 安装 uv（推荐最新稳定版） PostgreSQL 16.0 + 或 MySQL 8.0+ Redis（推荐最新稳定版） 准备源码 启动 PostgreSQL/MySQL、Redis 初始化 启动 在 ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://fastapi-practices.github.io/fastapi_best_architecture_docs/fastapi_best_architecture_docs/images/use_this_template.png"}],["meta",{"property":"og:locale","content":"zh-CN"}]]},"readingTime":{"minutes":3.11,"words":934},"git":{"createdTime":1726501588000},"autoDesc":true,"filePathRelative":"backend/summary/quick-start.md","headers":[],"bulletin":false}');export{S as comp,P as data};
