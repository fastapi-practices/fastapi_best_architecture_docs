import{_ as r,c as p,a as t,e as s,b as o,w as i,r as d,o as a}from"./app-BLJpD-6k.js";const u={},f={id:"environment",tabindex:"-1"},x={class:"header-anchor",href:"#environment"},E={id:"fastapi-api-v1-path",tabindex:"-1"},b={class:"header-anchor",href:"#fastapi-api-v1-path"},R={id:"fastapi-title",tabindex:"-1"},A={class:"header-anchor",href:"#fastapi-title"},y={id:"fastapi-description",tabindex:"-1"},I={class:"header-anchor",href:"#fastapi-description"},T={id:"fastapi-docs-url",tabindex:"-1"},O={class:"header-anchor",href:"#fastapi-docs-url"},S={id:"fastapi-redoc-url",tabindex:"-1"},h={class:"header-anchor",href:"#fastapi-redoc-url"},g={id:"fastapi-openapi-url",tabindex:"-1"},m={class:"header-anchor",href:"#fastapi-openapi-url"},D={id:"fastapi-static-files",tabindex:"-1"},L={class:"header-anchor",href:"#fastapi-static-files"},N={id:"database-type",tabindex:"-1"},C={class:"header-anchor",href:"#database-type"},P={id:"database-host",tabindex:"-1"},k={class:"header-anchor",href:"#database-host"},U={id:"database-port",tabindex:"-1"},w={class:"header-anchor",href:"#database-port"},F={id:"database-user",tabindex:"-1"},M={class:"header-anchor",href:"#database-user"},G={id:"database-password",tabindex:"-1"},H={class:"header-anchor",href:"#database-password"},v={id:"database-echo",tabindex:"-1"},B={class:"header-anchor",href:"#database-echo"},X={id:"database-pool-echo",tabindex:"-1"},K={class:"header-anchor",href:"#database-pool-echo"},q={id:"database-schema",tabindex:"-1"},W={class:"header-anchor",href:"#database-schema"},Y={id:"database-charset",tabindex:"-1"},V={class:"header-anchor",href:"#database-charset"},Q={id:"database-pk-mode",tabindex:"-1"},z={class:"header-anchor",href:"#database-pk-mode"},J={id:"redis-timeout",tabindex:"-1"},Z={class:"header-anchor",href:"#redis-timeout"},j={id:"redis-host",tabindex:"-1"},$={class:"header-anchor",href:"#redis-host"},_={id:"redis-port",tabindex:"-1"},c={class:"header-anchor",href:"#redis-port"},nn={id:"redis-password",tabindex:"-1"},tn={class:"header-anchor",href:"#redis-password"},sn={id:"redis-database",tabindex:"-1"},on={class:"header-anchor",href:"#redis-database"},en={id:"snowflake-datacenter-id",tabindex:"-1"},ln={class:"header-anchor",href:"#snowflake-datacenter-id"},dn={id:"snowflake-worker-id",tabindex:"-1"},rn={class:"header-anchor",href:"#snowflake-worker-id"},pn={id:"snowflake-redis-prefix",tabindex:"-1"},an={class:"header-anchor",href:"#snowflake-redis-prefix"},un={id:"snowflake-heartbeat-interval-seconds",tabindex:"-1"},fn={class:"header-anchor",href:"#snowflake-heartbeat-interval-seconds"},xn={id:"snowflake-node-ttl-seconds",tabindex:"-1"},En={class:"header-anchor",href:"#snowflake-node-ttl-seconds"},bn={id:"token-secret-key",tabindex:"-1"},Rn={class:"header-anchor",href:"#token-secret-key"},An={id:"token-algorithm",tabindex:"-1"},yn={class:"header-anchor",href:"#token-algorithm"},In={id:"token-expire-seconds",tabindex:"-1"},Tn={class:"header-anchor",href:"#token-expire-seconds"},On={id:"token-refresh-expire-seconds",tabindex:"-1"},Sn={class:"header-anchor",href:"#token-refresh-expire-seconds"},hn={id:"token-redis-prefix",tabindex:"-1"},gn={class:"header-anchor",href:"#token-redis-prefix"},mn={id:"token-extra-info-redis-prefix",tabindex:"-1"},Dn={class:"header-anchor",href:"#token-extra-info-redis-prefix"},Ln={id:"token-online-redis-prefix",tabindex:"-1"},Nn={class:"header-anchor",href:"#token-online-redis-prefix"},Cn={id:"token-refresh-redis-prefix",tabindex:"-1"},Pn={class:"header-anchor",href:"#token-refresh-redis-prefix"},kn={id:"token-request-path-exclude",tabindex:"-1"},Un={class:"header-anchor",href:"#token-request-path-exclude"},wn={id:"token-request-path-exclude-pattern",tabindex:"-1"},Fn={class:"header-anchor",href:"#token-request-path-exclude-pattern"},Mn={id:"user-lock-redis-prefix",tabindex:"-1"},Gn={class:"header-anchor",href:"#user-lock-redis-prefix"},Hn={id:"user-lock-threshold",tabindex:"-1"},vn={class:"header-anchor",href:"#user-lock-threshold"},Bn={id:"user-lock-seconds",tabindex:"-1"},Xn={class:"header-anchor",href:"#user-lock-seconds"},Kn={id:"user-password-expiry-days",tabindex:"-1"},qn={class:"header-anchor",href:"#user-password-expiry-days"},Wn={id:"user-password-reminder-days",tabindex:"-1"},Yn={class:"header-anchor",href:"#user-password-reminder-days"},Vn={id:"user-password-history-check-count",tabindex:"-1"},Qn={class:"header-anchor",href:"#user-password-history-check-count"},zn={id:"user-password-min-length",tabindex:"-1"},Jn={class:"header-anchor",href:"#user-password-min-length"},Zn={id:"user-password-max-length",tabindex:"-1"},jn={class:"header-anchor",href:"#user-password-max-length"},$n={id:"user-password-require-special-char",tabindex:"-1"},_n={class:"header-anchor",href:"#user-password-require-special-char"},cn={id:"login-captcha-redis-prefix",tabindex:"-1"},nt={class:"header-anchor",href:"#login-captcha-redis-prefix"},tt={id:"login-captcha-expire-seconds",tabindex:"-1"},st={class:"header-anchor",href:"#login-captcha-expire-seconds"},ot={id:"login-captcha-enabled",tabindex:"-1"},et={class:"header-anchor",href:"#login-captcha-enabled"},lt={id:"login-failure-prefix",tabindex:"-1"},it={class:"header-anchor",href:"#login-failure-prefix"},dt={id:"jwt-user-redis-prefix",tabindex:"-1"},rt={class:"header-anchor",href:"#jwt-user-redis-prefix"},pt={id:"rbac-role-menu-mode",tabindex:"-1"},at={class:"header-anchor",href:"#rbac-role-menu-mode"},ut={id:"rbac-role-menu-exclude",tabindex:"-1"},ft={class:"header-anchor",href:"#rbac-role-menu-exclude"},xt={id:"cookie-refresh-token-key",tabindex:"-1"},Et={class:"header-anchor",href:"#cookie-refresh-token-key"},bt={id:"cookie-refresh-token-expire-seconds",tabindex:"-1"},Rt={class:"header-anchor",href:"#cookie-refresh-token-expire-seconds"},At={id:"data-permission-column-exclude",tabindex:"-1"},yt={class:"header-anchor",href:"#data-permission-column-exclude"},It={id:"ws-no-auth-marker",tabindex:"-1"},Tt={class:"header-anchor",href:"#ws-no-auth-marker"},Ot={id:"cors-allowed-origins",tabindex:"-1"},St={class:"header-anchor",href:"#cors-allowed-origins"},ht={id:"cors-expose-headers",tabindex:"-1"},gt={class:"header-anchor",href:"#cors-expose-headers"},mt={id:"middleware-cors",tabindex:"-1"},Dt={class:"header-anchor",href:"#middleware-cors"},Lt={id:"request-limiter-redis-prefix",tabindex:"-1"},Nt={class:"header-anchor",href:"#request-limiter-redis-prefix"},Ct={id:"datetime-timezone",tabindex:"-1"},Pt={class:"header-anchor",href:"#datetime-timezone"},kt={id:"datetime-format",tabindex:"-1"},Ut={class:"header-anchor",href:"#datetime-format"},wt={id:"upload-read-size",tabindex:"-1"},Ft={class:"header-anchor",href:"#upload-read-size"},Mt={id:"upload-image-ext-include",tabindex:"-1"},Gt={class:"header-anchor",href:"#upload-image-ext-include"},Ht={id:"upload-image-size-max",tabindex:"-1"},vt={class:"header-anchor",href:"#upload-image-size-max"},Bt={id:"upload-video-ext-include",tabindex:"-1"},Xt={class:"header-anchor",href:"#upload-video-ext-include"},Kt={id:"upload-video-size-max",tabindex:"-1"},qt={class:"header-anchor",href:"#upload-video-size-max"},Wt={id:"demo-mode",tabindex:"-1"},Yt={class:"header-anchor",href:"#demo-mode"},Vt={id:"demo-mode-exclude",tabindex:"-1"},Qt={class:"header-anchor",href:"#demo-mode-exclude"},zt={id:"ip-location-parse",tabindex:"-1"},Jt={class:"header-anchor",href:"#ip-location-parse"},Zt={id:"ip-location-redis-prefix",tabindex:"-1"},jt={class:"header-anchor",href:"#ip-location-redis-prefix"},$t={id:"ip-location-expire-seconds",tabindex:"-1"},_t={class:"header-anchor",href:"#ip-location-expire-seconds"},ct={id:"trace-id-request-header-key",tabindex:"-1"},ns={class:"header-anchor",href:"#trace-id-request-header-key"},ts={id:"trace-id-log-length",tabindex:"-1"},ss={class:"header-anchor",href:"#trace-id-log-length"},os={id:"trace-id-log-default-value",tabindex:"-1"},es={class:"header-anchor",href:"#trace-id-log-default-value"},ls={id:"log-format",tabindex:"-1"},is={class:"header-anchor",href:"#log-format"},ds={id:"log-std-level",tabindex:"-1"},rs={class:"header-anchor",href:"#log-std-level"},ps={id:"log-file-access-level",tabindex:"-1"},as={class:"header-anchor",href:"#log-file-access-level"},us={id:"log-file-error-level",tabindex:"-1"},fs={class:"header-anchor",href:"#log-file-error-level"},xs={id:"log-access-filename",tabindex:"-1"},Es={class:"header-anchor",href:"#log-access-filename"},bs={id:"log-error-filename",tabindex:"-1"},Rs={class:"header-anchor",href:"#log-error-filename"},As={id:"opera-log-path-exclude",tabindex:"-1"},ys={class:"header-anchor",href:"#opera-log-path-exclude"},Is={id:"opera-log-encrypt-key-include",tabindex:"-1"},Ts={class:"header-anchor",href:"#opera-log-encrypt-key-include"},Os={id:"opera-log-queue-batch-consume-size",tabindex:"-1"},Ss={class:"header-anchor",href:"#opera-log-queue-batch-consume-size"},hs={id:"opera-log-queue-timeout",tabindex:"-1"},gs={class:"header-anchor",href:"#opera-log-queue-timeout"},ms={id:"plugin-pip-china",tabindex:"-1"},Ds={class:"header-anchor",href:"#plugin-pip-china"},Ls={id:"plugin-pip-index-url",tabindex:"-1"},Ns={class:"header-anchor",href:"#plugin-pip-index-url"},Cs={id:"plugin-pip-max-retry",tabindex:"-1"},Ps={class:"header-anchor",href:"#plugin-pip-max-retry"},ks={id:"plugin-redis-prefix",tabindex:"-1"},Us={class:"header-anchor",href:"#plugin-redis-prefix"},ws={id:"i18n-default-language",tabindex:"-1"},Fs={class:"header-anchor",href:"#i18n-default-language"},Ms={id:"grafana-metrics",tabindex:"-1"},Gs={class:"header-anchor",href:"#grafana-metrics"},Hs={id:"grafana-app-name",tabindex:"-1"},vs={class:"header-anchor",href:"#grafana-app-name"},Bs={id:"grafana-otlp-grpc-endpoint",tabindex:"-1"},Xs={class:"header-anchor",href:"#grafana-otlp-grpc-endpoint"},Ks={id:"celery-broker-redis-database",tabindex:"-1"},qs={class:"header-anchor",href:"#celery-broker-redis-database"},Ws={id:"celery-rabbitmq-host",tabindex:"-1"},Ys={class:"header-anchor",href:"#celery-rabbitmq-host"},Vs={id:"celery-rabbitmq-port",tabindex:"-1"},Qs={class:"header-anchor",href:"#celery-rabbitmq-port"},zs={id:"celery-rabbitmq-username",tabindex:"-1"},Js={class:"header-anchor",href:"#celery-rabbitmq-username"},Zs={id:"celery-rabbitmq-password",tabindex:"-1"},js={class:"header-anchor",href:"#celery-rabbitmq-password"},$s={id:"celery-broker",tabindex:"-1"},_s={class:"header-anchor",href:"#celery-broker"},cs={id:"celery-rabbitmq-vhost",tabindex:"-1"},no={class:"header-anchor",href:"#celery-rabbitmq-vhost"},to={id:"celery-redis-prefix",tabindex:"-1"},so={class:"header-anchor",href:"#celery-redis-prefix"},oo={id:"celery-task-max-retries",tabindex:"-1"},eo={class:"header-anchor",href:"#celery-task-max-retries"},lo={id:"code-generator-download-zip-filename",tabindex:"-1"},io={class:"header-anchor",href:"#code-generator-download-zip-filename"},ro={id:"oauth2-github-client-id",tabindex:"-1"},po={class:"header-anchor",href:"#oauth2-github-client-id"},ao={id:"oauth2-github-client-secret",tabindex:"-1"},uo={class:"header-anchor",href:"#oauth2-github-client-secret"},fo={id:"oauth2-google-client-id",tabindex:"-1"},xo={class:"header-anchor",href:"#oauth2-google-client-id"},Eo={id:"oauth2-google-client-secret",tabindex:"-1"},bo={class:"header-anchor",href:"#oauth2-google-client-secret"},Ro={id:"oauth2-linux-do-client-id",tabindex:"-1"},Ao={class:"header-anchor",href:"#oauth2-linux-do-client-id"},yo={id:"oauth2-linux-do-client-secret",tabindex:"-1"},Io={class:"header-anchor",href:"#oauth2-linux-do-client-secret"},To={id:"oauth2-state-redis-prefix",tabindex:"-1"},Oo={class:"header-anchor",href:"#oauth2-state-redis-prefix"},So={id:"oauth2-state-expire-seconds",tabindex:"-1"},ho={class:"header-anchor",href:"#oauth2-state-expire-seconds"},go={id:"oauth2-github-redirect-uri",tabindex:"-1"},mo={class:"header-anchor",href:"#oauth2-github-redirect-uri"},Do={id:"oauth2-google-redirect-uri",tabindex:"-1"},Lo={class:"header-anchor",href:"#oauth2-google-redirect-uri"},No={id:"oauth2-linux-do-redirect-uri",tabindex:"-1"},Co={class:"header-anchor",href:"#oauth2-linux-do-redirect-uri"},Po={id:"oauth2-frontend-login-redirect-uri",tabindex:"-1"},ko={class:"header-anchor",href:"#oauth2-frontend-login-redirect-uri"},Uo={id:"oauth2-frontend-binding-redirect-uri",tabindex:"-1"},wo={class:"header-anchor",href:"#oauth2-frontend-binding-redirect-uri"},Fo={id:"email-username",tabindex:"-1"},Mo={class:"header-anchor",href:"#email-username"},Go={id:"email-password",tabindex:"-1"},Ho={class:"header-anchor",href:"#email-password"},vo={id:"email-host",tabindex:"-1"},Bo={class:"header-anchor",href:"#email-host"},Xo={id:"email-port",tabindex:"-1"},Ko={class:"header-anchor",href:"#email-port"},qo={id:"email-ssl",tabindex:"-1"},Wo={class:"header-anchor",href:"#email-ssl"},Yo={id:"email-captcha-redis-prefix",tabindex:"-1"},Vo={class:"header-anchor",href:"#email-captcha-redis-prefix"},Qo={id:"email-captcha-expire-seconds",tabindex:"-1"},zo={class:"header-anchor",href:"#email-captcha-expire-seconds"};function Jo(Zo,n){const e=d("Badge"),l=d("VPLink");return a(),p("div",null,[t("p",null,[n[0]||(n[0]=s("fba 配置文件位于 ",-1)),n[1]||(n[1]=t("code",null,"backend/core/conf.py",-1)),n[2]||(n[2]=s(" ，所有应用和插件的配置都应统一放置在此文件内，包含 ",-1)),o(e,{type:"warning",text:"env"}),n[3]||(n[3]=s(" 标签的配置默认为环境变量配置",-1))]),n[278]||(n[278]=t("h2",{id:"环境配置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#环境配置"},[t("span",null,"环境配置")])],-1)),t("h3",f,[t("a",x,[t("span",null,[n[4]||(n[4]=t("code",null,"ENVIRONMENT",-1)),n[5]||(n[5]=s()),o(e,{type:"info",text:"Literal['dev', 'prod']"}),n[6]||(n[6]=s()),o(e,{type:"warning",text:"env"})])])]),n[279]||(n[279]=t("p",null,[s("指定环境模式，当设置为 "),t("code",null,"prod"),s(" 时，openapi 相关在线文档将被禁止访问")],-1)),n[280]||(n[280]=t("h2",{id:"fastapi-配置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#fastapi-配置"},[t("span",null,"FastAPI 配置")])],-1)),t("h3",E,[t("a",b,[t("span",null,[n[7]||(n[7]=t("code",null,"FASTAPI_API_V1_PATH",-1)),n[8]||(n[8]=s()),o(e,{type:"info",text:"str"})])])]),n[281]||(n[281]=t("p",null,"API 版本号配置",-1)),t("h3",R,[t("a",A,[t("span",null,[n[9]||(n[9]=t("code",null,"FASTAPI_TITLE",-1)),n[10]||(n[10]=s()),o(e,{type:"info",text:"str"})])])]),n[282]||(n[282]=t("p",null,"openapi 相关在线文档标头配置",-1)),t("h3",y,[t("a",I,[t("span",null,[n[11]||(n[11]=t("code",null,"FASTAPI_DESCRIPTION",-1)),n[12]||(n[12]=s()),o(e,{type:"info",text:"str"})])])]),n[283]||(n[283]=t("p",null,"openapi 相关在线文档描述信息",-1)),t("h3",T,[t("a",O,[t("span",null,[n[13]||(n[13]=t("code",null,"FASTAPI_DOCS_URL",-1)),n[14]||(n[14]=s()),o(e,{type:"info",text:"str"})])])]),n[284]||(n[284]=t("p",null,"docs 在线文档地址",-1)),t("h3",S,[t("a",h,[t("span",null,[n[15]||(n[15]=t("code",null,"FASTAPI_REDOC_URL",-1)),n[16]||(n[16]=s()),o(e,{type:"info",text:"str"})])])]),n[285]||(n[285]=t("p",null,"redoc 在线文档地址",-1)),t("h3",g,[t("a",m,[t("span",null,[n[17]||(n[17]=t("code",null,"FASTAPI_OPENAPI_URL",-1)),n[18]||(n[18]=s()),o(e,{type:"info",text:"str"})])])]),n[286]||(n[286]=t("p",null,"openapi JSON 数据在线地址",-1)),t("h3",D,[t("a",L,[t("span",null,[n[19]||(n[19]=t("code",null,"FASTAPI_STATIC_FILES",-1)),n[20]||(n[20]=s()),o(e,{type:"info",text:"bool"})])])]),n[287]||(n[287]=t("p",null,"是否开启 FastAPI 静态文件服务",-1)),n[288]||(n[288]=t("h2",{id:"数据库配置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#数据库配置"},[t("span",null,"数据库配置")])],-1)),t("h3",N,[t("a",C,[t("span",null,[n[21]||(n[21]=t("code",null,"DATABASE_TYPE",-1)),n[22]||(n[22]=s()),o(e,{type:"info",text:"Literal['postgresql', 'mysql']"}),n[23]||(n[23]=s()),o(e,{type:"warning",text:"env"})])])]),n[289]||(n[289]=t("p",null,[s("数据库类型，仅支持 "),t("code",null,"postgresql"),s(" 和 "),t("code",null,"mysql"),s("，需注意第三方插件兼容性")],-1)),t("h3",P,[t("a",k,[t("span",null,[n[24]||(n[24]=t("code",null,"DATABASE_HOST",-1)),n[25]||(n[25]=s()),o(e,{type:"info",text:"str"}),n[26]||(n[26]=s()),o(e,{type:"warning",text:"env"})])])]),n[290]||(n[290]=t("p",null,"数据库的主机地址",-1)),t("h3",U,[t("a",w,[t("span",null,[n[27]||(n[27]=t("code",null,"DATABASE_PORT",-1)),n[28]||(n[28]=s()),o(e,{type:"info",text:"int"}),n[29]||(n[29]=s()),o(e,{type:"warning",text:"env"})])])]),n[291]||(n[291]=t("p",null,"数据库的端口号",-1)),t("h3",F,[t("a",M,[t("span",null,[n[30]||(n[30]=t("code",null,"DATABASE_USER",-1)),n[31]||(n[31]=s()),o(e,{type:"info",text:"str"}),n[32]||(n[32]=s()),o(e,{type:"warning",text:"env"})])])]),n[292]||(n[292]=t("p",null,"数据库用户名",-1)),t("h3",G,[t("a",H,[t("span",null,[n[33]||(n[33]=t("code",null,"DATABASE_PASSWORD",-1)),n[34]||(n[34]=s()),o(e,{type:"info",text:"str"}),n[35]||(n[35]=s()),o(e,{type:"warning",text:"env"})])])]),n[293]||(n[293]=t("p",null,"数据库认证密码",-1)),t("h3",v,[t("a",B,[t("span",null,[n[36]||(n[36]=t("code",null,"DATABASE_ECHO",-1)),n[37]||(n[37]=s()),o(e,{type:"info",text:"bool | Literal['debug']"})])])]),n[294]||(n[294]=t("p",null,"是否输出 sqlalchemy 操作日志",-1)),t("h3",X,[t("a",K,[t("span",null,[n[38]||(n[38]=t("code",null,"DATABASE_POOL_ECHO",-1)),n[39]||(n[39]=s()),o(e,{type:"info",text:"bool | Literal['debug']"})])])]),n[295]||(n[295]=t("p",null,"是否输出 sqlalchemy 线程池操作日志",-1)),t("h3",q,[t("a",W,[t("span",null,[n[40]||(n[40]=t("code",null,"DATABASE_SCHEMA",-1)),n[41]||(n[41]=s()),o(e,{type:"info",text:"str"})])])]),n[296]||(n[296]=t("p",null,"需要连接的数据库",-1)),t("h3",Y,[t("a",V,[t("span",null,[n[42]||(n[42]=t("code",null,"DATABASE_CHARSET",-1)),n[43]||(n[43]=s()),o(e,{type:"info",text:"str"})])])]),n[297]||(n[297]=t("p",null,"数据库字符集，仅用于 mysql",-1)),t("h3",Q,[t("a",z,[t("span",null,[n[44]||(n[44]=t("code",null,"DATABASE_PK_MODE",-1)),n[45]||(n[45]=s()),o(e,{type:"info",text:"str"})])])]),t("p",null,[n[47]||(n[47]=s("数据库主键模式，更多详情：",-1)),o(l,{href:"./pk.md"},{default:i(()=>[...n[46]||(n[46]=[s("切换主键",-1)])]),_:1})]),n[298]||(n[298]=t("div",{class:"hint-container caution"},[t("p",{class:"hint-container-title"},"警告"),t("p",null,"不要随意更新此配置！！！否则将导致致命问题！！！")],-1)),n[299]||(n[299]=t("h2",{id:"redis-配置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#redis-配置"},[t("span",null,"Redis 配置")])],-1)),t("h3",J,[t("a",Z,[t("span",null,[n[48]||(n[48]=t("code",null,"REDIS_TIMEOUT",-1)),n[49]||(n[49]=s()),o(e,{type:"info",text:"int"}),n[50]||(n[50]=s()),o(e,{type:"warning",text:"env"})])])]),n[300]||(n[300]=t("p",null,"Socket 读写操作的超时时间和 Redis 建立 TCP 连接时的超时时间",-1)),t("h3",j,[t("a",$,[t("span",null,[n[51]||(n[51]=t("code",null,"REDIS_HOST",-1)),n[52]||(n[52]=s()),o(e,{type:"info",text:"int"})])])]),n[301]||(n[301]=t("p",null,"Redis 服务器的主机地址",-1)),t("h3",_,[t("a",c,[t("span",null,[n[53]||(n[53]=t("code",null,"REDIS_PORT",-1)),n[54]||(n[54]=s()),o(e,{type:"info",text:"str"})])])]),n[302]||(n[302]=t("p",null,"Redis 服务器的端口号",-1)),t("h3",nn,[t("a",tn,[t("span",null,[n[55]||(n[55]=t("code",null,"REDIS_PASSWORD",-1)),n[56]||(n[56]=s()),o(e,{type:"info",text:"int"})])])]),n[303]||(n[303]=t("p",null,"Redis 认证密码",-1)),t("h3",sn,[t("a",on,[t("span",null,[n[57]||(n[57]=t("code",null,"REDIS_DATABASE",-1)),n[58]||(n[58]=s()),o(e,{type:"info",text:"str"})])])]),n[304]||(n[304]=t("p",null,"全局默认使用的 Redis 逻辑数据库索引（0 - 15）",-1)),n[305]||(n[305]=t("h2",{id:"snowflake-雪花算法",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#snowflake-雪花算法"},[t("span",null,"Snowflake（雪花算法）")])],-1)),t("h3",en,[t("a",ln,[t("span",null,[n[59]||(n[59]=t("code",null,"SNOWFLAKE_DATACENTER_ID",-1)),n[60]||(n[60]=s()),o(e,{type:"info",text:"int"}),n[61]||(n[61]=s()),o(e,{type:"warning",text:"env"})])])]),n[306]||(n[306]=t("p",null,"雪花算法数据中心 ID",-1)),t("h3",dn,[t("a",rn,[t("span",null,[n[62]||(n[62]=t("code",null,"SNOWFLAKE_WORKER_ID",-1)),n[63]||(n[63]=s()),o(e,{type:"info",text:"int"}),n[64]||(n[64]=s()),o(e,{type:"warning",text:"env"})])])]),n[307]||(n[307]=t("p",null,"雪花算法工作机器 ID",-1)),n[308]||(n[308]=t("div",{class:"hint-container warning"},[t("p",{class:"hint-container-title"},"注意"),t("p",null,[t("code",null,"SNOWFLAKE_DATACENTER_ID"),s(" 和 "),t("code",null,"SNOWFLAKE_WORKER_ID"),s(" 仅允许同时非 None 或同时为 None")]),t("p",null,"同时非 None 时，雪花算法将应用此配置（适用于单机单进程场景）"),t("p",null,"同时为 None 时，雪花算法将自动分配此配置（适用于多线程，多进程，分布式等场景）")],-1)),t("h3",pn,[t("a",an,[t("span",null,[n[65]||(n[65]=t("code",null,"SNOWFLAKE_REDIS_PREFIX",-1)),n[66]||(n[66]=s()),o(e,{type:"info",text:"str"})])])]),n[309]||(n[309]=t("p",null,"雪花算法配置存储到 Redis 时的前缀",-1)),t("h3",un,[t("a",fn,[t("span",null,[n[67]||(n[67]=t("code",null,"SNOWFLAKE_HEARTBEAT_INTERVAL_SECONDS",-1)),n[68]||(n[68]=s()),o(e,{type:"info",text:"int"})])])]),n[310]||(n[310]=t("p",null,"雪花算法配置存储到 Redis 后的心跳检测间隔时间（秒）",-1)),n[311]||(n[311]=t("div",{class:"hint-container warning"},[t("p",{class:"hint-container-title"},"注意"),t("p",null,[s("此配置不应大于 "),t("code",null,"SNOWFLAKE_NODE_TTL_SECONDS")])],-1)),t("h3",xn,[t("a",En,[t("span",null,[n[69]||(n[69]=t("code",null,"SNOWFLAKE_NODE_TTL_SECONDS",-1)),n[70]||(n[70]=s()),o(e,{type:"info",text:"int"})])])]),n[312]||(n[312]=t("p",null,"雪花算法配置存储到 Redis 时的生存时间（秒）",-1)),n[313]||(n[313]=t("h2",{id:"token-配置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#token-配置"},[t("span",null,"Token 配置")])],-1)),t("h3",bn,[t("a",Rn,[t("span",null,[n[71]||(n[71]=t("code",null,"TOKEN_SECRET_KEY",-1)),n[72]||(n[72]=s()),o(e,{type:"info",text:"str"}),n[73]||(n[73]=s()),o(e,{type:"warning",text:"env"})])])]),n[314]||(n[314]=t("p",null,[s("token 生成和解析密钥，用于防止 token 被恶意篡改，密钥生成："),t("code",null,"secrets.token_urlsafe(32)")],-1)),n[315]||(n[315]=t("div",{class:"hint-container caution"},[t("p",{class:"hint-container-title"},"警告"),t("p",null,"请妥善保管此值，以免遭受恶意攻击")],-1)),t("h3",An,[t("a",yn,[t("span",null,[n[74]||(n[74]=t("code",null,"TOKEN_ALGORITHM",-1)),n[75]||(n[75]=s()),o(e,{type:"info",text:"str"})])])]),n[316]||(n[316]=t("p",null,"token 加密算法",-1)),t("h3",In,[t("a",Tn,[t("span",null,[n[76]||(n[76]=t("code",null,"TOKEN_EXPIRE_SECONDS",-1)),n[77]||(n[77]=s()),o(e,{type:"info",text:"int"})])])]),n[317]||(n[317]=t("p",null,"token 过期时长（秒）",-1)),t("h3",On,[t("a",Sn,[t("span",null,[n[78]||(n[78]=t("code",null,"TOKEN_REFRESH_EXPIRE_SECONDS",-1)),n[79]||(n[79]=s()),o(e,{type:"info",text:"int"})])])]),n[318]||(n[318]=t("p",null,"刷新 token 过期时长（秒）",-1)),t("h3",hn,[t("a",gn,[t("span",null,[n[80]||(n[80]=t("code",null,"TOKEN_REDIS_PREFIX",-1)),n[81]||(n[81]=s()),o(e,{type:"info",text:"str"})])])]),n[319]||(n[319]=t("p",null,"token 存储到 Redis 时的前缀",-1)),t("h3",mn,[t("a",Dn,[t("span",null,[n[82]||(n[82]=t("code",null,"TOKEN_EXTRA_INFO_REDIS_PREFIX",-1)),n[83]||(n[83]=s()),o(e,{type:"info",text:"str"})])])]),n[320]||(n[320]=t("p",null,"token 扩展信息存储到 Redis 时的前缀",-1)),t("h3",Ln,[t("a",Nn,[t("span",null,[n[84]||(n[84]=t("code",null,"TOKEN_ONLINE_REDIS_PREFIX",-1)),n[85]||(n[85]=s()),o(e,{type:"info",text:"str"})])])]),n[321]||(n[321]=t("p",null,"token 在线状态存储到 Redis 时的前缀",-1)),t("h3",Cn,[t("a",Pn,[t("span",null,[n[86]||(n[86]=t("code",null,"TOKEN_REFRESH_REDIS_PREFIX",-1)),n[87]||(n[87]=s()),o(e,{type:"info",text:"str"})])])]),n[322]||(n[322]=t("p",null,"刷新 token 存储到 Redis 时的前缀",-1)),t("h3",kn,[t("a",Un,[t("span",null,[n[88]||(n[88]=t("code",null,"TOKEN_REQUEST_PATH_EXCLUDE",-1)),n[89]||(n[89]=s()),o(e,{type:"info",text:"list[str]"})])])]),n[323]||(n[323]=t("p",null,"JWT / RBAC 路由白名单，在此配置内的请求地址将不会校验 token 的真伪性",-1)),n[324]||(n[324]=t("div",{class:"hint-container warning"},[t("p",{class:"hint-container-title"},"注意"),t("p",null,[s("fba 内通过 JWT 中间件解析 token 获取用户信息，并将用户信息赋值给 FastAPI request 对象，如果路由包含在此配置中， "),t("code",null,"request.user"),s(" 将不可用")])],-1)),t("h3",wn,[t("a",Fn,[t("span",null,[n[90]||(n[90]=t("code",null,"TOKEN_REQUEST_PATH_EXCLUDE_PATTERN",-1)),n[91]||(n[91]=s()),o(e,{type:"info",text:"list[Pattern[str]]"})])])]),n[325]||(n[325]=t("p",null,"JWT / RBAC 路由白名单正则模式，从路由头部开始匹配，与之匹配的请求地址将不会校验 token 真伪性，注意项同上",-1)),n[326]||(n[326]=t("h2",{id:"用户安全配置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#用户安全配置"},[t("span",null,"用户安全配置")])],-1)),t("h3",Mn,[t("a",Gn,[t("span",null,[n[92]||(n[92]=t("code",null,"USER_LOCK_REDIS_PREFIX",-1)),n[93]||(n[93]=s()),o(e,{type:"info",text:"str"})])])]),n[327]||(n[327]=t("p",null,"用户锁定存储到 Redis 时的前缀",-1)),t("h3",Hn,[t("a",vn,[t("span",null,[n[94]||(n[94]=t("code",null,"USER_LOCK_THRESHOLD",-1)),n[95]||(n[95]=s()),o(e,{type:"info",text:"int"})])])]),n[328]||(n[328]=t("p",null,"用户密码错误锁定阈值，0 表示禁用锁定",-1)),t("h3",Bn,[t("a",Xn,[t("span",null,[n[96]||(n[96]=t("code",null,"USER_LOCK_SECONDS",-1)),n[97]||(n[97]=s()),o(e,{type:"info",text:"int"})])])]),n[329]||(n[329]=t("p",null,"用户锁定时长（秒）",-1)),t("h3",Kn,[t("a",qn,[t("span",null,[n[98]||(n[98]=t("code",null,"USER_PASSWORD_EXPIRY_DAYS",-1)),n[99]||(n[99]=s()),o(e,{type:"info",text:"int"})])])]),n[330]||(n[330]=t("p",null,"用户密码有效期，0 表示永不过期",-1)),t("h3",Wn,[t("a",Yn,[t("span",null,[n[100]||(n[100]=t("code",null,"USER_PASSWORD_REMINDER_DAYS",-1)),n[101]||(n[101]=s()),o(e,{type:"info",text:"int"})])])]),n[331]||(n[331]=t("p",null,"用户密码到期提醒，0 表示不提醒",-1)),t("h3",Vn,[t("a",Qn,[t("span",null,[n[102]||(n[102]=t("code",null,"USER_PASSWORD_HISTORY_CHECK_COUNT",-1)),n[103]||(n[103]=s()),o(e,{type:"info",text:"int"})])])]),n[332]||(n[332]=t("p",null,"用户密码历史检查数量，避免重复使用历史密码",-1)),t("h3",zn,[t("a",Jn,[t("span",null,[n[104]||(n[104]=t("code",null,"USER_PASSWORD_MIN_LENGTH",-1)),n[105]||(n[105]=s()),o(e,{type:"info",text:"int"})])])]),n[333]||(n[333]=t("p",null,"用户密码最小长度",-1)),t("h3",Zn,[t("a",jn,[t("span",null,[n[106]||(n[106]=t("code",null,"USER_PASSWORD_MAX_LENGTH",-1)),n[107]||(n[107]=s()),o(e,{type:"info",text:"int"})])])]),n[334]||(n[334]=t("p",null,"用户密码最大长度",-1)),t("h3",$n,[t("a",_n,[t("span",null,[n[108]||(n[108]=t("code",null,"USER_PASSWORD_REQUIRE_SPECIAL_CHAR",-1)),n[109]||(n[109]=s()),o(e,{type:"info",text:"bool"})])])]),n[335]||(n[335]=t("p",null,"用户密码需要特殊字符",-1)),n[336]||(n[336]=t("h2",{id:"登录配置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#登录配置"},[t("span",null,"登录配置")])],-1)),t("h3",cn,[t("a",nt,[t("span",null,[n[110]||(n[110]=t("code",null,"LOGIN_CAPTCHA_REDIS_PREFIX",-1)),n[111]||(n[111]=s()),o(e,{type:"info",text:"str"})])])]),n[337]||(n[337]=t("p",null,"登录验证码存储到 Redis 时的前缀",-1)),t("h3",tt,[t("a",st,[t("span",null,[n[112]||(n[112]=t("code",null,"LOGIN_CAPTCHA_EXPIRE_SECONDS",-1)),n[113]||(n[113]=s()),o(e,{type:"info",text:"int"})])])]),n[338]||(n[338]=t("p",null,"登录验证码过期时长（秒）",-1)),t("h3",ot,[t("a",et,[t("span",null,[n[114]||(n[114]=t("code",null,"LOGIN_CAPTCHA_ENABLED",-1)),n[115]||(n[115]=s()),o(e,{type:"info",text:"bool"})])])]),n[339]||(n[339]=t("p",null,"是否开始登录验证码",-1)),t("h3",lt,[t("a",it,[t("span",null,[n[116]||(n[116]=t("code",null,"LOGIN_FAILURE_PREFIX",-1)),n[117]||(n[117]=s()),o(e,{type:"info",text:"str"})])])]),n[340]||(n[340]=t("p",null,"登录失败存储到 Redis 时的前缀",-1)),n[341]||(n[341]=t("h2",{id:"jwt-配置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#jwt-配置"},[t("span",null,"JWT 配置")])],-1)),t("h3",dt,[t("a",rt,[t("span",null,[n[118]||(n[118]=t("code",null,"JWT_USER_REDIS_PREFIX",-1)),n[119]||(n[119]=s()),o(e,{type:"info",text:"str"})])])]),n[342]||(n[342]=t("p",null,"JWT 中间件存储用户信息到 Redis 时的前缀",-1)),n[343]||(n[343]=t("h2",{id:"rbac-配置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#rbac-配置"},[t("span",null,"RBAC 配置")])],-1)),t("p",null,[o(l,{href:"./RBAC.md",class:"read-more"},{default:i(()=>[...n[120]||(n[120]=[s("更多详情",-1)])]),_:1})]),t("h3",pt,[t("a",at,[t("span",null,[n[121]||(n[121]=t("code",null,"RBAC_ROLE_MENU_MODE",-1)),n[122]||(n[122]=s()),o(e,{type:"info",text:"bool"})])])]),n[344]||(n[344]=t("p",null,"是否开启 RBAC 角色菜单模式",-1)),t("h3",ut,[t("a",ft,[t("span",null,[n[123]||(n[123]=t("code",null,"RBAC_ROLE_MENU_EXCLUDE",-1)),n[124]||(n[124]=s()),o(e,{type:"info",text:"list[str]"})])])]),n[345]||(n[345]=t("p",null,"开启 RBAC 角色菜单模式时，跳过 RBAC 鉴权的标识（当接口权限标识和用户菜单权限标识相同时）",-1)),n[346]||(n[346]=t("h2",{id:"cookie-配置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#cookie-配置"},[t("span",null,"Cookie 配置")])],-1)),t("h3",xt,[t("a",Et,[t("span",null,[n[125]||(n[125]=t("code",null,"COOKIE_REFRESH_TOKEN_KEY",-1)),n[126]||(n[126]=s()),o(e,{type:"info",text:"str"})])])]),n[347]||(n[347]=t("p",null,"将刷新 token 存储到 cookie 时的键名",-1)),t("h3",bt,[t("a",Rt,[t("span",null,[n[127]||(n[127]=t("code",null,"COOKIE_REFRESH_TOKEN_EXPIRE_SECONDS",-1)),n[128]||(n[128]=s()),o(e,{type:"info",text:"int"})])])]),n[348]||(n[348]=t("p",null,"将刷新 token 存储到 cookie 时的过期时长（秒）",-1)),n[349]||(n[349]=t("h2",{id:"数据权限配置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#数据权限配置"},[t("span",null,"数据权限配置")])],-1)),t("h3",At,[t("a",yt,[t("span",null,[n[129]||(n[129]=t("code",null,"DATA_PERMISSION_COLUMN_EXCLUDE",-1)),n[130]||(n[130]=s()),o(e,{type:"info",text:"list[str]"})])])]),n[350]||(n[350]=t("p",null,"排除允许进行数据过滤的 SQLA 模型列，例如 id, password 等",-1)),n[351]||(n[351]=t("h2",{id:"socket-io-配置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#socket-io-配置"},[t("span",null,"Socket.IO 配置")])],-1)),t("h3",It,[t("a",Tt,[t("span",null,[n[131]||(n[131]=t("code",null,"WS_NO_AUTH_MARKER",-1)),n[132]||(n[132]=s()),o(e,{type:"info",text:"str"})])])]),n[352]||(n[352]=t("p",null,"连接 socket.io 服务时跳过用户验证的标记",-1)),n[353]||(n[353]=t("div",{class:"hint-container caution"},[t("p",{class:"hint-container-title"},"警告"),t("p",null,"请妥善保管此值，以免遭受恶意攻击")],-1)),n[354]||(n[354]=t("h2",{id:"cors-配置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#cors-配置"},[t("span",null,"CORS 配置")])],-1)),t("h3",Ot,[t("a",St,[t("span",null,[n[133]||(n[133]=t("code",null,"CORS_ALLOWED_ORIGINS",-1)),n[134]||(n[134]=s()),o(e,{type:"info",text:"list[str]"})])])]),n[355]||(n[355]=t("p",null,[s("跨域请求时允许的来源，末尾不带 "),t("code",null,"/"),s("，例如："),t("code",null,"http//127.0.0.1:8000")],-1)),t("h3",ht,[t("a",gt,[t("span",null,[n[135]||(n[135]=t("code",null,"CORS_EXPOSE_HEADERS",-1)),n[136]||(n[136]=s()),o(e,{type:"info",text:"list[str]"})])])]),n[356]||(n[356]=t("p",null,"跨域公开标头，允许将此标头添加到请求标头中",-1)),n[357]||(n[357]=t("h2",{id:"中间件配置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#中间件配置"},[t("span",null,"中间件配置")])],-1)),t("h3",mt,[t("a",Dt,[t("span",null,[n[137]||(n[137]=t("code",null,"MIDDLEWARE_CORS",-1)),n[138]||(n[138]=s()),o(e,{type:"info",text:"bool"})])])]),n[358]||(n[358]=t("p",null,"是否启用跨域中间件",-1)),n[359]||(n[359]=t("h2",{id:"请求限制配置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#请求限制配置"},[t("span",null,"请求限制配置")])],-1)),t("h3",Lt,[t("a",Nt,[t("span",null,[n[139]||(n[139]=t("code",null,"REQUEST_LIMITER_REDIS_PREFIX",-1)),n[140]||(n[140]=s()),o(e,{type:"info",text:"str"})])])]),n[360]||(n[360]=t("p",null,"记录请求频率信息到 Redis 时的前缀",-1)),n[361]||(n[361]=t("h2",{id:"时间配置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#时间配置"},[t("span",null,"时间配置")])],-1)),t("h3",Ct,[t("a",Pt,[t("span",null,[n[141]||(n[141]=t("code",null,"DATETIME_TIMEZONE",-1)),n[142]||(n[142]=s()),o(e,{type:"info",text:"str"})])])]),n[362]||(n[362]=t("p",null,"全局时区",-1)),t("h3",kt,[t("a",Ut,[t("span",null,[n[143]||(n[143]=t("code",null,"DATETIME_FORMAT",-1)),n[144]||(n[144]=s()),o(e,{type:"info",text:"str"})])])]),n[363]||(n[363]=t("p",null,"将时间转为时间字符串的格式",-1)),n[364]||(n[364]=t("h2",{id:"文件上传配置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#文件上传配置"},[t("span",null,"文件上传配置")])],-1)),n[365]||(n[365]=t("div",{class:"hint-container warning"},[t("p",{class:"hint-container-title"},"注意"),t("p",null,"部分配置可能被 nginx 覆盖")],-1)),t("h3",wt,[t("a",Ft,[t("span",null,[n[145]||(n[145]=t("code",null,"UPLOAD_READ_SIZE",-1)),n[146]||(n[146]=s()),o(e,{type:"info",text:"int"})])])]),n[366]||(n[366]=t("p",null,"上传文件时，每次读取文件内容的缓冲大小",-1)),t("h3",Mt,[t("a",Gt,[t("span",null,[n[147]||(n[147]=t("code",null,"UPLOAD_IMAGE_EXT_INCLUDE",-1)),n[148]||(n[148]=s()),o(e,{type:"info",text:"list[str]"})])])]),n[367]||(n[367]=t("p",null,"允许上传的图片文件类型",-1)),t("h3",Ht,[t("a",vt,[t("span",null,[n[149]||(n[149]=t("code",null,"UPLOAD_IMAGE_SIZE_MAX",-1)),n[150]||(n[150]=s()),o(e,{type:"info",text:"int"})])])]),n[368]||(n[368]=t("p",null,"允许上传的图片文件最大尺寸",-1)),t("h3",Bt,[t("a",Xt,[t("span",null,[n[151]||(n[151]=t("code",null,"UPLOAD_VIDEO_EXT_INCLUDE",-1)),n[152]||(n[152]=s()),o(e,{type:"info",text:"list[str]"})])])]),n[369]||(n[369]=t("p",null,"允许上传的视频文件类型",-1)),t("h3",Kt,[t("a",qt,[t("span",null,[n[153]||(n[153]=t("code",null,"UPLOAD_VIDEO_SIZE_MAX",-1)),n[154]||(n[154]=s()),o(e,{type:"info",text:"int"})])])]),n[370]||(n[370]=t("p",null,"允许上传的视频文件最大尺寸",-1)),n[371]||(n[371]=t("h2",{id:"演示模式配置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#演示模式配置"},[t("span",null,"演示模式配置")])],-1)),t("h3",Wt,[t("a",Yt,[t("span",null,[n[155]||(n[155]=t("code",null,"DEMO_MODE",-1)),n[156]||(n[156]=s()),o(e,{type:"info",text:"bool"})])])]),n[372]||(n[372]=t("p",null,[s("是否开启演示模式，开启时，仅允许访问 "),t("code",null,"GET"),s(" 和 "),t("code",null,"OPTIONS"),s(" 请求")],-1)),t("h3",Vt,[t("a",Qt,[t("span",null,[n[157]||(n[157]=t("code",null,"DEMO_MODE_EXCLUDE",-1)),n[158]||(n[158]=s()),o(e,{type:"info",text:"set[tuple[str, str]]"})])])]),n[373]||(n[373]=t("p",null,"开启演示模式时，不进行请求限制的接口",-1)),n[374]||(n[374]=t("h2",{id:"ip-定位配置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#ip-定位配置"},[t("span",null,"IP 定位配置")])],-1)),t("h3",zt,[t("a",Jt,[t("span",null,[n[159]||(n[159]=t("code",null,"IP_LOCATION_PARSE",-1)),n[160]||(n[160]=s()),o(e,{type:"info",text:"Literal['online', 'offline', 'false']"})])])]),n[375]||(n[375]=t("p",null,"请求发起者的定位信息获取模式",-1)),t("h3",Zt,[t("a",jt,[t("span",null,[n[161]||(n[161]=t("code",null,"IP_LOCATION_REDIS_PREFIX",-1)),n[162]||(n[162]=s()),o(e,{type:"info",text:"str"})])])]),n[376]||(n[376]=t("p",null,"定位信息存储到 Redis 时的前缀",-1)),t("h3",$t,[t("a",_t,[t("span",null,[n[163]||(n[163]=t("code",null,"IP_LOCATION_EXPIRE_SECONDS",-1)),n[164]||(n[164]=s()),o(e,{type:"info",text:"int"})])])]),n[377]||(n[377]=t("p",null,"定位信息缓存时长（秒）",-1)),n[378]||(n[378]=t("h2",{id:"trace-id",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#trace-id"},[t("span",null,"Trace ID")])],-1)),t("h3",ct,[t("a",ns,[t("span",null,[n[165]||(n[165]=t("code",null,"TRACE_ID_REQUEST_HEADER_KEY",-1)),n[166]||(n[166]=s()),o(e,{type:"info",text:"str"})])])]),n[379]||(n[379]=t("p",null,"跟踪 ID 请求头键名",-1)),t("h3",ts,[t("a",ss,[t("span",null,[n[167]||(n[167]=t("code",null,"TRACE_ID_LOG_LENGTH",-1)),n[168]||(n[168]=s()),o(e,{type:"info",text:"int"})])])]),n[380]||(n[380]=t("p",null,"跟踪 ID 日志长度，必须小于等于 32",-1)),t("h3",os,[t("a",es,[t("span",null,[n[169]||(n[169]=t("code",null,"TRACE_ID_LOG_DEFAULT_VALUE",-1)),n[170]||(n[170]=s()),o(e,{type:"info",text:"str"})])])]),n[381]||(n[381]=t("p",null,"跟踪 ID 日志默认值",-1)),n[382]||(n[382]=t("h2",{id:"日志",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#日志"},[t("span",null,"日志")])],-1)),t("h3",ls,[t("a",is,[t("span",null,[n[171]||(n[171]=t("code",null,"LOG_FORMAT",-1)),n[172]||(n[172]=s()),o(e,{type:"info",text:"str"})])])]),n[383]||(n[383]=t("p",null,"日志内容格式（控制台和文件同享）",-1)),n[384]||(n[384]=t("h2",{id:"日志-控制台",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#日志-控制台"},[t("span",null,"日志（控制台）")])],-1)),t("h3",ds,[t("a",rs,[t("span",null,[n[173]||(n[173]=t("code",null,"LOG_STD_LEVEL",-1)),n[174]||(n[174]=s()),o(e,{type:"info",text:"str"})])])]),n[385]||(n[385]=t("p",null,"日志记录级别",-1)),n[386]||(n[386]=t("h2",{id:"日志-文件",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#日志-文件"},[t("span",null,"日志（文件）")])],-1)),t("h3",ps,[t("a",as,[t("span",null,[n[175]||(n[175]=t("code",null,"LOG_FILE_ACCESS_LEVEL",-1)),n[176]||(n[176]=s()),o(e,{type:"info",text:"str"})])])]),n[387]||(n[387]=t("p",null,"访问日志记录级别",-1)),t("h3",us,[t("a",fs,[t("span",null,[n[177]||(n[177]=t("code",null,"LOG_FILE_ERROR_LEVEL",-1)),n[178]||(n[178]=s()),o(e,{type:"info",text:"str"})])])]),n[388]||(n[388]=t("p",null,"错误日志记录级别",-1)),t("h3",xs,[t("a",Es,[t("span",null,[n[179]||(n[179]=t("code",null,"LOG_ACCESS_FILENAME",-1)),n[180]||(n[180]=s()),o(e,{type:"info",text:"str"})])])]),n[389]||(n[389]=t("p",null,"访问日志文件名",-1)),t("h3",bs,[t("a",Rs,[t("span",null,[n[181]||(n[181]=t("code",null,"LOG_ERROR_FILENAME",-1)),n[182]||(n[182]=s()),o(e,{type:"info",text:"str"})])])]),n[390]||(n[390]=t("p",null,"错误日志文件名",-1)),n[391]||(n[391]=t("h2",{id:"操作日志",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#操作日志"},[t("span",null,"操作日志")])],-1)),t("h3",As,[t("a",ys,[t("span",null,[n[183]||(n[183]=t("code",null,"OPERA_LOG_PATH_EXCLUDE",-1)),n[184]||(n[184]=s()),o(e,{type:"info",text:"list[str]"})])])]),n[392]||(n[392]=t("p",null,"操作日志路径排除，在此配置内的请求地址不会记录操作日志",-1)),t("h3",Is,[t("a",Ts,[t("span",null,[n[185]||(n[185]=t("code",null,"OPERA_LOG_ENCRYPT_KEY_INCLUDE",-1)),n[186]||(n[186]=s()),o(e,{type:"info",text:"list[str]"})])])]),n[393]||(n[393]=t("p",null,"加密操作日志中的接口请求参数",-1)),t("h3",Os,[t("a",Ss,[t("span",null,[n[187]||(n[187]=t("code",null,"OPERA_LOG_QUEUE_BATCH_CONSUME_SIZE",-1)),n[188]||(n[188]=s()),o(e,{type:"info",text:"int"})])])]),n[394]||(n[394]=t("p",null,"操作日志队列批量消费大小，达到上限后，操作日志将批量写入数据库",-1)),t("h3",hs,[t("a",gs,[t("span",null,[n[189]||(n[189]=t("code",null,"OPERA_LOG_QUEUE_TIMEOUT",-1)),n[190]||(n[190]=s()),o(e,{type:"info",text:"int"})])])]),n[395]||(n[395]=t("p",null,"操作日志队列超时时长，达到上限后，操作日志将批量写入数据库",-1)),n[396]||(n[396]=t("h2",{id:"插件配置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#插件配置"},[t("span",null,"插件配置")])],-1)),t("h3",ms,[t("a",Ds,[t("span",null,[n[191]||(n[191]=t("code",null,"PLUGIN_PIP_CHINA",-1)),n[192]||(n[192]=s()),o(e,{type:"info",text:"bool"})])])]),n[397]||(n[397]=t("p",null,"通过 pip 下载插件依赖时，是否使用国内源",-1)),t("h3",Ls,[t("a",Ns,[t("span",null,[n[193]||(n[193]=t("code",null,"PLUGIN_PIP_INDEX_URL",-1)),n[194]||(n[194]=s()),o(e,{type:"info",text:"str"})])])]),n[398]||(n[398]=t("p",null,"通过 pip 下载插件依赖时的索引地址",-1)),t("h3",Cs,[t("a",Ps,[t("span",null,[n[195]||(n[195]=t("code",null,"PLUGIN_PIP_MAX_RETRY",-1)),n[196]||(n[196]=s()),o(e,{type:"info",text:"int"})])])]),n[399]||(n[399]=t("p",null,"pip 下载最大重试次数",-1)),t("h3",ks,[t("a",Us,[t("span",null,[n[197]||(n[197]=t("code",null,"PLUGIN_REDIS_PREFIX",-1)),n[198]||(n[198]=s()),o(e,{type:"info",text:"str"})])])]),n[400]||(n[400]=t("p",null,"插件信息存储到 Redis 时的前缀",-1)),n[401]||(n[401]=t("h2",{id:"i18n-配置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#i18n-配置"},[t("span",null,"I18n 配置")])],-1)),t("h3",ws,[t("a",Fs,[t("span",null,[n[199]||(n[199]=t("code",null,"I18N_DEFAULT_LANGUAGE",-1)),n[200]||(n[200]=s()),o(e,{type:"info",text:"str"})])])]),n[402]||(n[402]=t("p",null,"国际化响应的默认语言",-1)),n[403]||(n[403]=t("h2",{id:"grafana-配置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#grafana-配置"},[t("span",null,"Grafana 配置")])],-1)),t("h3",Ms,[t("a",Gs,[t("span",null,[n[201]||(n[201]=t("code",null,"GRAFANA_METRICS",-1)),n[202]||(n[202]=s()),o(e,{type:"info",text:"bool"})])])]),n[404]||(n[404]=t("p",null,"是否启用 Grafana 套件",-1)),n[405]||(n[405]=t("div",{class:"hint-container warning"},[t("p",{class:"hint-container-title"},"注意"),t("p",null,"如果不需要可观测性集成，不建议启用此功能")],-1)),t("h3",Hs,[t("a",vs,[t("span",null,[n[203]||(n[203]=t("code",null,"GRAFANA_APP_NAME",-1)),n[204]||(n[204]=s()),o(e,{type:"info",text:"str"})])])]),n[406]||(n[406]=t("p",null,"Grafana 应用名称，通常情况下，不建议修改",-1)),t("h3",Bs,[t("a",Xs,[t("span",null,[n[205]||(n[205]=t("code",null,"GRAFANA_OTLP_GRPC_ENDPOINT",-1)),n[206]||(n[206]=s()),o(e,{type:"info",text:"str"})])])]),n[407]||(n[407]=t("p",null,"Grafana OTLP 协议 grpc 地址，用于发送遥测数据",-1)),n[408]||(n[408]=t("h2",{id:"应用-task",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#应用-task"},[t("span",null,"应用：Task")])],-1)),t("h3",Ks,[t("a",qs,[t("span",null,[n[207]||(n[207]=t("code",null,"CELERY_BROKER_REDIS_DATABASE",-1)),n[208]||(n[208]=s()),o(e,{type:"info",text:"int"}),n[209]||(n[209]=s()),o(e,{type:"warning",text:"env"})])])]),n[409]||(n[409]=t("p",null,"Celery 代理使用的 Redis 逻辑数据库",-1)),t("h3",Ws,[t("a",Ys,[t("span",null,[n[210]||(n[210]=t("code",null,"CELERY_RABBITMQ_HOST",-1)),n[211]||(n[211]=s()),o(e,{type:"info",text:"str"}),n[212]||(n[212]=s()),o(e,{type:"warning",text:"env"})])])]),n[410]||(n[410]=t("p",null,"Celery 连接 RabbitMQ 服务的主机地址",-1)),t("h3",Vs,[t("a",Qs,[t("span",null,[n[213]||(n[213]=t("code",null,"CELERY_RABBITMQ_PORT",-1)),n[214]||(n[214]=s()),o(e,{type:"info",text:"int"}),n[215]||(n[215]=s()),o(e,{type:"warning",text:"env"})])])]),n[411]||(n[411]=t("p",null,"Celery 连接 RabbitMQ 服务的主机端口号",-1)),t("h3",zs,[t("a",Js,[t("span",null,[n[216]||(n[216]=t("code",null,"CELERY_RABBITMQ_USERNAME",-1)),n[217]||(n[217]=s()),o(e,{type:"info",text:"str"}),n[218]||(n[218]=s()),o(e,{type:"warning",text:"env"})])])]),n[412]||(n[412]=t("p",null,"Celery 连接 RabbitMQ 服务的用户名",-1)),t("h3",Zs,[t("a",js,[t("span",null,[n[219]||(n[219]=t("code",null,"CELERY_RABBITMQ_PASSWORD",-1)),n[220]||(n[220]=s()),o(e,{type:"info",text:"str"}),n[221]||(n[221]=s()),o(e,{type:"warning",text:"env"})])])]),n[413]||(n[413]=t("p",null,"Celery 连接 RabbitMQ 服务的密码",-1)),t("h3",$s,[t("a",_s,[t("span",null,[n[222]||(n[222]=t("code",null,"CELERY_BROKER",-1)),n[223]||(n[223]=s()),o(e,{type:"info",text:"Literal['rabbitmq', 'redis']"})])])]),n[414]||(n[414]=t("p",null,"Celery 代理模式（开发模式默认使用 Redis，线上模式强制切换为 Rabbitmq）",-1)),t("h3",cs,[t("a",no,[t("span",null,[n[224]||(n[224]=t("code",null,"CELERY_RABBITMQ_VHOST",-1)),n[225]||(n[225]=s()),o(e,{type:"info",text:"str"})])])]),n[415]||(n[415]=t("p",null,"Celery 连接 RabbitMQ 服务的 vhost",-1)),t("h3",to,[t("a",so,[t("span",null,[n[226]||(n[226]=t("code",null,"CELERY_REDIS_PREFIX",-1)),n[227]||(n[227]=s()),o(e,{type:"info",text:"str"})])])]),n[416]||(n[416]=t("p",null,"Celery 数据存储到 Redis 时的前缀",-1)),t("h3",oo,[t("a",eo,[t("span",null,[n[228]||(n[228]=t("code",null,"CELERY_TASK_MAX_RETRIES",-1)),n[229]||(n[229]=s()),o(e,{type:"info",text:"int"})])])]),n[417]||(n[417]=t("p",null,"Celery 任务执行失败时的最大重试次数",-1)),n[418]||(n[418]=t("h2",{id:"插件-code-generator",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#插件-code-generator"},[t("span",null,"插件：Code Generator")])],-1)),t("h3",lo,[t("a",io,[t("span",null,[n[230]||(n[230]=t("code",null,"CODE_GENERATOR_DOWNLOAD_ZIP_FILENAME",-1)),n[231]||(n[231]=s()),o(e,{type:"info",text:"str"})])])]),n[419]||(n[419]=t("p",null,"下载代码时的 ZIP 压缩包文件名",-1)),n[420]||(n[420]=t("h2",{id:"插件-oauth2",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#插件-oauth2"},[t("span",null,"插件：OAuth2")])],-1)),t("h3",ro,[t("a",po,[t("span",null,[n[232]||(n[232]=t("code",null,"OAUTH2_GITHUB_CLIENT_ID",-1)),n[233]||(n[233]=s()),o(e,{type:"info",text:"str"}),n[234]||(n[234]=s()),o(e,{type:"warning",text:"env"})])])]),n[421]||(n[421]=t("p",null,"GitHub 客户端 ID",-1)),t("h3",ao,[t("a",uo,[t("span",null,[n[235]||(n[235]=t("code",null,"OAUTH2_GITHUB_CLIENT_SECRET",-1)),n[236]||(n[236]=s()),o(e,{type:"info",text:"str"}),n[237]||(n[237]=s()),o(e,{type:"warning",text:"env"})])])]),n[422]||(n[422]=t("p",null,"GitHub 客户端密钥",-1)),t("h3",fo,[t("a",xo,[t("span",null,[n[238]||(n[238]=t("code",null,"OAUTH2_GOOGLE_CLIENT_ID",-1)),n[239]||(n[239]=s()),o(e,{type:"info",text:"str"}),n[240]||(n[240]=s()),o(e,{type:"warning",text:"env"})])])]),n[423]||(n[423]=t("p",null,"Google 客户端 ID",-1)),t("h3",Eo,[t("a",bo,[t("span",null,[n[241]||(n[241]=t("code",null,"OAUTH2_GOOGLE_CLIENT_SECRET",-1)),n[242]||(n[242]=s()),o(e,{type:"info",text:"str"}),n[243]||(n[243]=s()),o(e,{type:"warning",text:"env"})])])]),n[424]||(n[424]=t("p",null,"Google 客户端密钥",-1)),t("h3",Ro,[t("a",Ao,[t("span",null,[n[244]||(n[244]=t("code",null,"OAUTH2_LINUX_DO_CLIENT_ID",-1)),n[245]||(n[245]=s()),o(e,{type:"info",text:"str"}),n[246]||(n[246]=s()),o(e,{type:"warning",text:"env"})])])]),n[425]||(n[425]=t("p",null,"Linux Do 客户端 ID",-1)),t("h3",yo,[t("a",Io,[t("span",null,[n[247]||(n[247]=t("code",null,"OAUTH2_LINUX_DO_CLIENT_SECRET",-1)),n[248]||(n[248]=s()),o(e,{type:"info",text:"str"}),n[249]||(n[249]=s()),o(e,{type:"warning",text:"env"})])])]),n[426]||(n[426]=t("p",null,"Linux Do 客户端密钥",-1)),t("h3",To,[t("a",Oo,[t("span",null,[n[250]||(n[250]=t("code",null,"OAUTH2_STATE_REDIS_PREFIX",-1)),n[251]||(n[251]=s()),o(e,{type:"info",text:"str"})])])]),n[427]||(n[427]=t("p",null,"OAuth2 状态信息存储到 Redis 时的前缀",-1)),t("h3",So,[t("a",ho,[t("span",null,[n[252]||(n[252]=t("code",null,"OAUTH2_STATE_EXPIRE_SECONDS",-1)),n[253]||(n[253]=s()),o(e,{type:"info",text:"str"})])])]),n[428]||(n[428]=t("p",null,"OAuth2 状态信息存储到 Redis 时的过期时间（秒）",-1)),t("h3",go,[t("a",mo,[t("span",null,[n[254]||(n[254]=t("code",null,"OAUTH2_GITHUB_REDIRECT_URI",-1)),n[255]||(n[255]=s()),o(e,{type:"info",text:"str"})])])]),n[429]||(n[429]=t("p",null,"GitHub 重定向地址，必须与 GitHub OAuth Apps 配置保持一致",-1)),t("h3",Do,[t("a",Lo,[t("span",null,[n[256]||(n[256]=t("code",null,"OAUTH2_GOOGLE_REDIRECT_URI",-1)),n[257]||(n[257]=s()),o(e,{type:"info",text:"str"})])])]),n[430]||(n[430]=t("p",null,"Google 重定向地址，必须与 Google OAuth 2.0 客户端配置保持一致",-1)),t("h3",No,[t("a",Co,[t("span",null,[n[258]||(n[258]=t("code",null,"OAUTH2_LINUX_DO_REDIRECT_URI",-1)),n[259]||(n[259]=s()),o(e,{type:"info",text:"str"})])])]),n[431]||(n[431]=t("p",null,"Linux Do 重定向地址，必须与 Linux Do Connect 配置保持一致",-1)),t("h3",Po,[t("a",ko,[t("span",null,[n[260]||(n[260]=t("code",null,"OAUTH2_FRONTEND_LOGIN_REDIRECT_URI",-1)),n[261]||(n[261]=s()),o(e,{type:"info",text:"str"})])])]),n[432]||(n[432]=t("p",null,"登陆成功后，重定向到前端的地址",-1)),t("h3",Uo,[t("a",wo,[t("span",null,[n[262]||(n[262]=t("code",null,"OAUTH2_FRONTEND_BINDING_REDIRECT_URI",-1)),n[263]||(n[263]=s()),o(e,{type:"info",text:"str"})])])]),n[433]||(n[433]=t("p",null,"绑定成功后，重定向到前端的地址",-1)),n[434]||(n[434]=t("h2",{id:"插件-email",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#插件-email"},[t("span",null,"插件：Email")])],-1)),t("h3",Fo,[t("a",Mo,[t("span",null,[n[264]||(n[264]=t("code",null,"EMAIL_USERNAME",-1)),n[265]||(n[265]=s()),o(e,{type:"info",text:"str"})])])]),n[435]||(n[435]=t("p",null,"电子邮箱发件用户",-1)),t("h3",Go,[t("a",Ho,[t("span",null,[n[266]||(n[266]=t("code",null,"EMAIL_PASSWORD",-1)),n[267]||(n[267]=s()),o(e,{type:"info",text:"str"})])])]),n[436]||(n[436]=t("p",null,"电子邮箱发件用户密码",-1)),t("h3",vo,[t("a",Bo,[t("span",null,[n[268]||(n[268]=t("code",null,"EMAIL_HOST",-1)),n[269]||(n[269]=s()),o(e,{type:"info",text:"str"})])])]),n[437]||(n[437]=t("p",null,"电子邮箱服务主机地址",-1)),t("h3",Xo,[t("a",Ko,[t("span",null,[n[270]||(n[270]=t("code",null,"EMAIL_PORT",-1)),n[271]||(n[271]=s()),o(e,{type:"info",text:"int"})])])]),n[438]||(n[438]=t("p",null,"电子邮箱服务主机端口号",-1)),t("h3",qo,[t("a",Wo,[t("span",null,[n[272]||(n[272]=t("code",null,"EMAIL_SSL",-1)),n[273]||(n[273]=s()),o(e,{type:"info",text:"bool"})])])]),n[439]||(n[439]=t("p",null,"发送电子邮件时，是否开启 SSL",-1)),t("h3",Yo,[t("a",Vo,[t("span",null,[n[274]||(n[274]=t("code",null,"EMAIL_CAPTCHA_REDIS_PREFIX",-1)),n[275]||(n[275]=s()),o(e,{type:"info",text:"str"})])])]),n[440]||(n[440]=t("p",null,"电子邮件验证码存储到 Redis 时的前缀",-1)),t("h3",Qo,[t("a",zo,[t("span",null,[n[276]||(n[276]=t("code",null,"EMAIL_CAPTCHA_EXPIRE_SECONDS",-1)),n[277]||(n[277]=s()),o(e,{type:"info",text:"int"})])])]),n[441]||(n[441]=t("p",null,"电子邮件验证码缓存时长（秒）",-1))])}const $o=r(u,[["render",Jo]]),_o=JSON.parse('{"path":"/backend/reference/conf.html","title":"配置","lang":"zh-CN","frontmatter":{"title":"配置","description":"fba 配置文件位于 backend/core/conf.py ，所有应用和插件的配置都应统一放置在此文件内，包含 环境配置 ENVIRONMENT 指定环境模式，当设置为 prod 时，openapi 相关在线文档将被禁止访问 FastAPI 配置 FASTAPI_API_V1_PATH API 版本号配置 FASTAPI_TITLE openapi...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"配置\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://fastapi-practices.github.io/fastapi_best_architecture_docs/fastapi_best_architecture_docs/backend/reference/conf.html"}],["meta",{"property":"og:site_name","content":"FastAPI Best Architecture"}],["meta",{"property":"og:title","content":"配置"}],["meta",{"property":"og:description","content":"fba 配置文件位于 backend/core/conf.py ，所有应用和插件的配置都应统一放置在此文件内，包含 环境配置 ENVIRONMENT 指定环境模式，当设置为 prod 时，openapi 相关在线文档将被禁止访问 FastAPI 配置 FASTAPI_API_V1_PATH API 版本号配置 FASTAPI_TITLE openapi..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}]]},"readingTime":{"minutes":10.12,"words":3037},"git":{"createdTime":1753441808000},"autoDesc":true,"filePathRelative":"backend/reference/conf.md","headers":[],"bulletin":false}');export{$o as comp,_o as data};
