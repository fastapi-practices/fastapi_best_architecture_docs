---
title: 数据权限
---

数据权限是为了给数据添加权限而建立的，我们最常见的实现方案是仅本人数据，本部门数据...
这些就是所谓的数据权限，你可以控制不同的角色拥有不同的数据权限，从而实现用户和数据的隔离

## 常见方案

::: caution
fba 已删除此集成方式，此代码仅作为示例保留
:::

@[code python](../../code/data_perm.py)

### 弊端

我们常见的这种数据权限，在大多数情况下，也能够满足日常场景所需，但是，这种方式存在严重的弊端。由于数据权限的数据过滤是通过
SQL 语句拼接进行实现的，而这些固定权限，直接写死了数据权限的要求

例如：业务表必须包含 dept_id 和 created_by 字段，如果业务表没有这些字段，你就无法通过 SQL 来控制数据权限

## 内置方案

有没有一种更加灵活的方案呢，答案是，当然有，目前，我们在 fba 中实现的正是超灵活方案，但相比于常见方案来讲，配置会更加复杂

你可以直接查看代码源文件 `backend/common/security/permission.py`
，它与常规方案使用近乎相同的方式实现数据过滤，但由于其复杂性，下面，我们将通过视频进行讲解：

@[bilibili](BV13hioY1EQU)