---
title: å¿«é€Ÿå¼€å§‹
---

::: caution
==fba ä»…é€‚ç”¨äºèµ„æ·± Python åç«¯å¼€å‘äººå‘˜==ï¼Œå¦‚æœæ‚¨æ˜¯éèµ„æ·±ç”¨æˆ·ï¼Œå»ºè®®ä½¿ç”¨ [ç²¾ç®€ç‰ˆ](../summary/fsm.md)
:::

> [!IMPORTANT]
> æˆ‘ä»¬å»ºè®®æ–°æ‰‹ç”¨æˆ·ä»ä¸€äº›åŸºç¡€å’Œç®€å•çš„å†…å®¹å…¥æ‰‹ï¼Œè¿™ä¸ä»…æ˜¯å¯¹è‡ªèº«å­¦ä¹ çš„ä¸€ç§è´Ÿè´£æ€åº¦ï¼Œä¹Ÿæ˜¯ä¸ºå°†æ¥èƒ½å¤Ÿé¡ºåˆ©æŒæ¡è¿™ä¸€æ¶æ„æ‰€å¥ å®šçš„åšå®åŸºç¡€ï¼Œæ¬¢è¿åŠ å…¥æˆ‘ä»¬çš„
> Discord ç¤¾åŒºè¿›è¡Œè®¨è®º
>
> æœ€åï¼Œè¯·è®¤çœŸå¯¹å¾…æ­¤æ–‡æ¡£ï¼Œå¹¶ä¸¥æ ¼æŒ‰ç…§æœ¬æ–‡æ¡£çš„é¡ºåºå¯åŠ¨é¡¹ç›®ï¼Œå¦åˆ™ä½ æœ‰å¾ˆå¤§å‡ ç‡åœ¨å¯åŠ¨è¿‡ç¨‹ä¸­é‡åˆ°å„ç§é—®é¢˜

## æœ¬åœ°å¼€å‘

### åç«¯

::: tip
å¦‚æœä½ æ˜¯ PostgreSQL ç”¨æˆ·ï¼Œè¯·å…ˆç§»æ­¥åˆ° [åˆ‡æ¢æ•°æ®åº“](../reference/db.md)
:::

:::: steps

1. å‡†å¤‡æœ¬åœ°ç¯å¢ƒ

    * Python 3.10+
    * MySQL 8.0+ æˆ– PostgreSQL 16.0 +
    * Redis æ¨èæœ€æ–°ç¨³å®šç‰ˆ

2. å‡†å¤‡ Git ä»“åº“

   ::: note
   ä¸¤ç§æ–¹æ¡ˆï¼Œé€‰æ‹©å…¶ä¸­ä¸€ç§å³å¯
   :::

    1. æ‹‰å–æºä»£ç ä»“åº“

       æ­¤æ–¹å¼éœ€è¦ä½ åˆ é™¤æ‹‰å–é¡¹ç›®åæ ¹ç›®å½•ä¸‹çš„ `.git` æ–‡ä»¶å¤¹ï¼Œä¹‹åä¸Šä¼ åˆ°ä½ æŒ‡å®šçš„ä»“åº“å³å¯ï¼Œå…·ä½“è¯·è‡ªè¡ŒæŸ¥é˜…ä½ è¦ä¸Šä¼ å¹³å°çš„è¡Œä¸ºå‡†åˆ™

       ```shell
       git clone https://github.com/fastapi-practices/fastapi_best_architecture.git
       ```

    2. åˆ›å»ºæ¨¡æ¿ä»“åº“

       æ­¤é¡¹ç›®æ”¯æŒåˆ›å»ºæ¨¡æ¿ä»“åº“ï¼Œæ„å‘³ç€ï¼Œä½ å¯ä»¥ç›´æ¥åˆ›å»ºä¸€ä¸ªé forkï¼ˆç‹¬ç«‹æ— ç»‘å®šçš„å…³ç³»ï¼‰çš„ä¸ªäººä»“åº“ï¼Œå¦‚æœæ‰€ç¤ºï¼Œè¿›å…¥æ­¤é¡¹ç›®
       GitHub é¦–é¡µï¼Œ
       ä½¿ç”¨ `use this template` æŒ‰é’®åˆ›å»ºå³å¯ï¼Œåˆ›å»ºå®Œæˆä¹‹åï¼Œä½¿ç”¨ `git clone` å‘½ä»¤æ‹‰å–ä½ è‡ªå·±çš„ä»“åº“å³å¯

       ![use_this_template](/images/use_this_template.png)

3. å®‰è£…ä¾èµ–åŒ…

   ::: note
   fba å†…é»˜è®¤ä½¿ç”¨ pypi å®˜æ–¹æºï¼Œå¦‚æœæ‚¨éœ€è¦å®‰è£…ä¾èµ–åŠ é€Ÿï¼Œå¯é€‰æ‹© ğŸªœ æˆ– [æ›¿æ¢ pypi å›½å†…æº](https://github.com/RubyMetric/chsrc)
   :::

    - æ¶æ„ä¾èµ–

      æ‹‰å–é¡¹ç›®åˆ°æœ¬åœ°åï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…æ¶æ„ä¾èµ–

      ```shell
      pip install -r requirements.txt
      ```

    - æ’ä»¶ä¾èµ–

      æ‰§è¡Œ `backend/scripts/init_plugin.py` æ–‡ä»¶å®‰è£…æ’ä»¶ä¾èµ–

4. åˆ›å»ºæ•°æ®åº“ï¼š`fba`ï¼Œé€‰æ‹© utf8mb4 ç¼–ç ï¼ŒPostgreSQL ç”¨æˆ·å¯å¿½ç•¥ç¼–ç 
5. å¯åŠ¨ Redis
6. env

   åœ¨ `backend` ç›®å½•ä¸­ï¼Œåˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶

   ```shell
   touch .env
   ```

   å°†åˆå§‹åŒ–ç¯å¢ƒå˜é‡é…ç½®æ‹·è´åˆ°ç¯å¢ƒå˜é‡æ–‡ä»¶ä¸­

   ```shell
   cp .env.example .env
   ```

7. æŒ‰éœ€ä¿®æ”¹é…ç½®æ–‡ä»¶ `backend/core/conf.py` å’Œ `.env`
8. åˆ›å»ºæ•°æ®åº“è¡¨ï¼ˆä¸‰é€‰ä¸€ï¼‰

    - ç›´æ¥å¯åŠ¨åç«¯é¡¹ç›®ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
    - æ•°æ®åº“è¿ç§» [alembic](https://alembic.sqlalchemy.org/en/latest/tutorial.html)

      ç”Ÿæˆè¿ç§»æ–‡ä»¶

      ```shell
      alembic revision --autogenerate
      ```

      æ‰§è¡Œè¿ç§»

      ```shell
      alembic upgrade head
      ```

    - æ‰§è¡Œ `backend/sql/` ç›®å½•ä¸‹å¯¹åº”æ•°æ®åº“çš„ `create_tables.sql` è„šæœ¬

9. å¯åŠ¨ celery worker, beat å’Œ flower ==ï¼ˆå¯é€‰ï¼‰==

   Celery åº”ç”¨ç¨‹åº

   ```shell
   celery -A app.task.celery worker -l info
   ```

   å®šæ—¶ä»»åŠ¡

   ```shell
   celery -A app.task.celery beat -l info
   ```

   web ç›‘æ§

   ```shell
   celery -A app.task.celery flower --port=8555 --basic-auth=admin:123456
   ```

10. åˆå§‹åŒ–æµ‹è¯•æ•°æ®

    æ‰§è¡Œ `backend/sql/init_test_data.sql` è„šæœ¬åˆå§‹åŒ–æµ‹è¯•æ•°æ®

11. å¯åŠ¨ fastapi æœåŠ¡

    ::: info
    æ­¤é¡¹ç›®é»˜è®¤ä½¿ç”¨ CLI å¯åŠ¨æœåŠ¡ï¼Œä¸ºäº†æ–¹ä¾¿æœ¬åœ°è°ƒè¯•ï¼Œä½ ä»ç„¶å¯ä»¥é€‰æ‹©åœ¨ IDE ä¸­å³é”®è¿è¡Œ `run.py` æ–‡ä»¶
    :::

    ::: warning
    å¦‚æœä½ åœ¨é¡¹ç›®ä¸­å®‰è£…äº† [åº”ç”¨çº§æ’ä»¶](../../plugin/dev.md#æ’ä»¶åˆ†ç±»)ï¼Œè¯·åŠ¡å¿…ä½¿ç”¨ `run.py`
    æ–‡ä»¶å¯åŠ¨é¡¹ç›®ï¼Œå¦åˆ™ï¼Œæ‚¨å°†æ”¶åˆ°å¯åŠ¨é”™è¯¯

    è¯¦æƒ…ï¼š[fastapi/fastapi#13372 (comment)](https://github.com/fastapi/fastapi/discussions/13372#discussioncomment-12211232)
    :::

    å¸®åŠ©

    ```shell
    fastapi --help
    ```

    å¼€å‘æ¨¡å¼

    ```shell
    fastapi dev main.py
    ```

12. æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š[http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)

::::

### å‰ç«¯

::: warning
å‰ç«¯é¡¹ç›®å¹¶ä¸æ˜¯æˆ‘ä»¬å‘å±•çš„é‡å¿ƒï¼Œæˆ‘ä»¬åˆ›å»ºçš„æ‰€æœ‰å‰ç«¯å®æ–½ï¼Œå‡ç”¨äº UI
æ•ˆæœæ¼”ç¤ºï¼Œå®ƒä»¬ä¸ä¸€å®šé€‚ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œæ‚¨å¯ä»¥ç‚¹å‡»æŸ¥çœ‹æˆ‘ä»¬çš„ [ç›®æ ‡](./why.md#ç›®æ ‡)
:::

::::: details Arco Desgin Vue

::: caution
è¿™æ˜¯ä¸€ä¸ªå®éªŒæ€§å®æ–½ï¼Œä»…ç”¨äºæ•ˆæœæ¼”ç¤ºï¼Œæ­¤ç‰ˆæœ¬å³å°†å­˜æ¡£ï¼Œè¯·å‹¿å°†å…¶ç”¨äºç”Ÿäº§ï¼
:::

:::: steps

1. å‡†å¤‡æœ¬åœ°ç¯å¢ƒ

    * Nodejs 18.0+
    * yarn 1.x

2. æ‹‰å– Git é¡¹ç›®

   ```shell
   git clone https://github.com/fastapi-practices/fastapi_best_architecture_ui.git
   ```

3. å®‰è£…å’Œå¯åŠ¨

   ::: warning
   ç¬¬ä¸€æ¬¡å¯åŠ¨å¯èƒ½ä¼šå¾ˆæ…¢ï¼Œä½ å¯ä»¥æŸ¥çœ‹æ­¤ [Issue](https://github.com/fastapi-practices/fastapi_best_architecture_ui/issues/72)
   æŸ¥çœ‹è¯¦æƒ…
   :::

   è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œå®‰è£…ä¾èµ–

   ```shell
   yarn install
   ```

   å¯åŠ¨

   ```shell
   yarn dev
   ```

::::
:::::

::::: details Vben Admin Antd

::: tip
è¿™æ˜¯ä¸‹ä¸€ä»£å®æ–½ï¼Œç›®å‰æ­£å¤„äºç§¯æå¼€å‘é˜¶æ®µï¼Œæœªæ¥å°†å®Œå…¨é€‚é… fba
:::

1. å‡†å¤‡æœ¬åœ°ç¯å¢ƒ

    * Nodejs 20.10.0+
    * pnpm 9.12.0+

2. æ‹‰å– Git é¡¹ç›®

   ```shell
   git clone https://github.com/fastapi-practices/fba_admin.git
   ```

3. å®‰è£…å’Œå¯åŠ¨

   è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œå®‰è£…ä¾èµ–

   ```shell
   pnpm install
   ```

   å¯åŠ¨

   ```shell
   pnpm dev
   ```

:::::

## å¼€å‘æµç¨‹

::: tip
ä»…ä¾›å‚è€ƒï¼Œå®é™…ä»¥ä¸ªäººä¸ºå‡†
:::

::: steps

1. å®šä¹‰æ•°æ®åº“æ¨¡å‹ï¼ˆmodelï¼‰

2. å®šä¹‰æ•°æ®éªŒè¯æ¨¡å‹ï¼ˆschemaï¼‰

3. å®šä¹‰è§†å›¾ï¼ˆapiï¼‰å’Œè·¯ç”±ï¼ˆrouterï¼‰

4. ç¼–å†™ä¸šåŠ¡ï¼ˆserviceï¼‰

5. ç¼–å†™æ•°æ®åº“æ“ä½œï¼ˆcrudï¼‰

:::

## å•å…ƒæµ‹è¯•

::: info
é€šè¿‡ `pytest` è¿è¡Œå•å…ƒæµ‹è¯•ï¼Œé¡¹ç›®å†…ä»…æä¾›äº†éå¸¸ç®€æ˜“çš„ demoï¼Œå¹¶ä¸æ˜¯å®Œæ•´å•å…ƒæµ‹è¯•ï¼Œå¦‚éœ€è¦ï¼Œè¯·è‡ªè¡Œç¼–å†™
:::

::: steps

1. åˆ›å»ºæµ‹è¯•æ•°æ®åº“ `fba_test`ï¼Œé€‰æ‹© utf8mb4 ç¼–ç ï¼Œpostgres ç”¨æˆ·å¯å¿½ç•¥ç¼–ç 
2. åˆ›å»ºæ•°æ®åº“è¡¨ï¼Œæ‰§è¡Œ `backend/sql/` ç›®å½•ä¸‹å¯¹åº”æ•°æ®åº“çš„ `create_tables.sql` è„šæœ¬
3. åˆå§‹åŒ–æµ‹è¯•æ•°æ®ï¼Œæ‰§è¡Œ `backend/sql/` ç›®å½•ä¸‹å¯¹åº”æ•°æ®åº“çš„ `init_test_data.sql` è„šæœ¬
4. åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡Œå•å…ƒæµ‹è¯•å‘½ä»¤

   ```shell
   pytest -vs --disable-warnings
   ```

:::
